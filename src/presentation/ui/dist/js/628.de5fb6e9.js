"use strict";(self["webpackChunksos_dash"]=self["webpackChunksos_dash"]||[]).push([[628],{31691:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ia});var l=t(59835),n=t(60499),s=t(61957),o=t(25121),i=t(3746);const u=(0,i.Q_)("php",{state:()=>({isLoadingPhpConfig:!1,countPhpConfigUpdates:0,hostname:"",phpVersion:{value:"",options:[]},phpSettings:[],phpModules:[]}),getters:{getIsLoadingPhpConfig(e){return e.isLoadingPhpConfig},getCountPhpConfigUpdates(e){return e.countPhpConfigUpdates},getHostname(e){return e.hostname},getPhpVersion(e){return e.phpVersion},getPhpSettings(e){return e.phpSettings},getPhpModules(e){return e.phpModules}},actions:{setIsLoadingPhpConfig(e){this.isLoadingPhpConfig=e},setCountPhpConfigUpdates(e){this.countPhpConfigUpdates=e},setHostname(e){this.hostname=e},setPhpVersion(e){this.phpVersion=e},setPhpSettings(e){this.phpSettings=e},setPhpModules(e){this.phpModules=e}}});var p=t(39697),r={class:"row justify-center"},d={class:"row justify-evenly q-my-xl"},c={class:"flex justify-between"};function v(e,a){var t=(0,l.up)("q-skeleton");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",r,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(2,(function(e){return(0,l._)("div",{key:e,class:"q-ma-md col-5"},[(0,l.Wm)(t,{type:"QBtn",style:{width:"100%"}})])})),64))]),(0,l._)("div",d,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(2,(function(e){return(0,l._)("div",{key:e},[(0,l.Wm)(t,{type:"QBtn",style:{width:"250px"}})])})),64))]),(0,l._)("div",c,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(24,(function(e){return(0,l._)("div",{key:e,class:"q-ma-md",style:{height:"100px"}},[(0,l.Wm)(t,{type:"QChip",style:{width:"200px"}})])})),64))])])}var m=t(11639),h=t(57133),g=t(69984),b=t.n(g);const f={},P=(0,m.Z)(f,[["render",v]]),w=P;b()(f,"components",{QSkeleton:h.ZP});var y=t(94629);const _=(0,l.aZ)({__name:"PhpVhostSelect",props:{vhostsOptions:{},vhostSelected:{},isDisabled:{type:Boolean}},emits:["update:vhostSelected","update:isDisabled"],setup(e,{emit:a}){const t=e,s=(0,n.iH)(t.vhostSelected),o=(0,n.iH)(t.isDisabled);return(0,l.YP)((()=>t.isDisabled),(e=>{o.value=e})),(0,l.YP)(s,(e=>{a("update:vhostSelected",e)})),(0,l.YP)(o,(e=>{a("update:isDisabled",e)})),(e,a)=>((0,l.wg)(),(0,l.j4)(y.Z,{options:e.vhostsOptions,selected:s.value,"onUpdate:selected":a[0]||(a[0]=e=>s.value=e),isDisable:o.value,label:e.$t("phpVhostSelect.selectVirtualHost"),icon:"sym_s_lan"},null,8,["options","selected","isDisable","label"]))}}),V=_,S=V;var C=t(86970),Z=t(84278),x=t(88900),H=t(69036),q=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,s){function o(e){try{u(l.next(e))}catch(a){s(a)}}function i(e){try{u(l["throw"](e))}catch(a){s(a)}}function u(e){e.done?t(e.value):n(e.value).then(o,i)}u((l=l.apply(e,a||[])).next())}))};class D extends H.Z{getPhpConfigs(e){return q(this,void 0,void 0,(function*(){return this.request.get(`/v1/runtime/php/${e}/`)}))}updatePhpConfigs(e){return q(this,void 0,void 0,(function*(){return this.request.put(`/v1/runtime/php/${e.hostname}/`,e)}))}}var Q=t(45273);const W={class:"text-h6 text-bold text-orange-8"},T=["innerHTML"],U=(0,l.aZ)({__name:"PhpDialogPhpVersion",props:{showDialogPhpVersion:{type:Boolean},newPhpVersion:{}},emits:["update:showDialogPhpVersion","update:cancelUpdatePhpVersion"],setup(e,{emit:a}){const t=e,s=u(),i=(0,o.QT)().t,p=(0,n.iH)(t.showDialogPhpVersion),r=(0,l.Fl)({get:()=>s.getIsLoadingPhpConfig,set:e=>{s.setIsLoadingPhpConfig(e)}}),d=(0,l.Fl)((()=>s.getHostname));function c(){a("update:cancelUpdatePhpVersion",!0),p.value=!1}function v(){a("update:cancelUpdatePhpVersion",!1),(0,Q.Q)();const e=new D;e.updatePhpConfigs({hostname:d.value,version:t.newPhpVersion}).then((()=>{(0,x.LX)(`${i("phpDialogPhpVersion.updatePhpVersionSuccess")}`),p.value=!1,r.value=!0})).catch((e=>{console.error(e),(0,x.s9)(e.response.data,`${i("phpDialogPhpVersion.updatePhpVersionError")}`)})).finally((()=>{(0,Q.Z)()}))}return(0,l.YP)((()=>t.showDialogPhpVersion),(e=>{p.value=e})),(0,l.YP)(p,(e=>{a("update:showDialogPhpVersion",e)})),(e,a)=>{const t=(0,l.up)("q-card-section"),n=(0,l.up)("q-icon"),s=(0,l.up)("q-banner"),o=(0,l.up)("q-card-actions"),i=(0,l.up)("q-card"),u=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(u,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"dialog-card-bg",style:{width:"750px","max-width":"70vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(t,null,{default:(0,l.w5)((()=>[(0,l._)("div",W,(0,C.zw)(e.$t("phpDialogPhpVersion.title")),1)])),_:1}),(0,l.Wm)(t,{class:"q-pa-xs q-my-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{avatar:(0,l.w5)((()=>[(0,l.Wm)(n,{name:"sym_s_warning",color:"orange-8",size:"lg"})])),default:(0,l.w5)((()=>[(0,l._)("div",{innerHTML:e.$t("phpDialogPhpVersion.body",{newVersion:e.newPhpVersion}),class:"q-mb-md"},null,8,T)])),_:1})])),_:1}),(0,l.Wm)(o,{align:"between"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.Z,{label:e.$t("phpDialogPhpVersion.btnCancel"),color:"grey-7",onClick:a[0]||(a[0]=e=>c())},null,8,["label"]),(0,l.Wm)(Z.Z,{icon:"sym_s_warning",label:e.$t("phpDialogPhpVersion.btnConfirm"),color:"orange-8",onClick:a[1]||(a[1]=e=>v())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var M=t(32074),F=t(44458),j=t(63190),$=t(47128),k=t(22857),E=t(11821);const O=U,Y=O;b()(U,"components",{QDialog:M.Z,QCard:F.Z,QCardSection:j.Z,QBanner:$.Z,QIcon:k.Z,QCardActions:E.Z});const L=(0,l.aZ)({__name:"PhpVersionSelect",props:{isDisabled:{type:Boolean}},emits:["update:isDisabled"],setup(e,{emit:a}){const t=e,s=u(),o=(0,n.iH)(t.isDisabled),i=(0,n.iH)(""),p=(0,n.iH)(!1),r=(0,n.iH)(!1),d=(0,n.iH)([]),c=(0,l.Fl)((()=>s.getPhpVersion));return(0,l.YP)((()=>t.isDisabled),(e=>{o.value=e})),(0,l.YP)(o,(e=>{a("update:isDisabled",e)})),(0,l.wF)((()=>{d.value=c.value.options||[],i.value=c.value.value})),(0,l.YP)(p,(e=>{!0===e&&(i.value=c.value.value,setTimeout((()=>{p.value=!1}),10))})),(0,l.YP)(i,((e,a)=>{!1===p.value&&""!==a&&(r.value=!0)})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(Y,{showDialogPhpVersion:r.value,"onUpdate:showDialogPhpVersion":a[0]||(a[0]=e=>r.value=e),newPhpVersion:i.value,cancelUpdatePhpVersion:p.value,"onUpdate:cancelUpdatePhpVersion":a[1]||(a[1]=e=>p.value=e)},null,8,["showDialogPhpVersion","newPhpVersion","cancelUpdatePhpVersion"]),(0,l.Wm)(y.Z,{options:d.value,selected:i.value,"onUpdate:selected":a[2]||(a[2]=e=>i.value=e),isDisable:o.value,label:e.$t("phpVersionSelect.selectPhpVersion"),icon:"fa-brands fa-php"},null,8,["options","selected","isDisable","label"])]))}}),I=L,N=I;var B=t(35274),z=t(15521);const K={class:"flex justify-between"},X={style:{width:"50%"}},A=["innerHTML"],G=(0,l.aZ)({__name:"PhpSubdirectoryInput",props:{prefix:{default:""},disable:{type:Boolean}},emits:["update:subdirectory","update:isValidSubdirectory"],setup(e,{emit:a}){const t=(0,n.iH)(""),s=(0,l.Fl)((()=>{const e=new RegExp(/^\w{0,256}$/);return e.test(t.value)}));return(0,l.YP)(t,(e=>{a("update:subdirectory",e)}),{immediate:!0}),(0,l.YP)(s,(e=>{a("update:isValidSubdirectory",e)}),{immediate:!0}),(e,a)=>((0,l.wg)(),(0,l.iD)("div",K,[(0,l._)("div",X,[(0,l.Wm)(z.Z,{value:t.value,"onUpdate:value":a[0]||(a[0]=e=>t.value=e),label:e.$t("phpSubdirectoryInput.urlLabel"),prefix:e.prefix+"/",disable:e.disable,rules:[()=>s.value||e.$t("phpSubdirectoryInput.urlIsInvalid")]},null,8,["value","label","prefix","disable","rules"])]),(0,l._)("div",{style:{width:"47%","font-size":"14px"},innerHTML:e.$t("phpSubdirectoryInput.urlExplanation",{hostname:e.prefix})},null,8,A)]))}}),J=G,R=J;var ee=t(62120);const ae={class:"title-dialog q-mb-md"},te=["innerHTML"],le={class:"q-my-lg"},ne=(0,l.aZ)({__name:"PhpCreateMapping",props:{hostname:{}},setup(e){const a=e,t=(0,o.QT)().t,s=u(),i=(0,n.iH)("php-webserver"),p=(0,n.iH)("service"),r=(0,n.iH)(""),d=(0,n.iH)("begins-with"),c=(0,n.iH)(!1),v=(0,l.Fl)((()=>""!==a.hostname&&""!==d.value&&""!==i.value&&c.value));function m(){(0,Q.Q)();const e=new ee.Z;let l={hostname:a.hostname,matchPattern:d.value,path:r.value?r.value:"/",targetType:p.value,targetServiceName:i.value};e.createMappings(l).then((()=>{(0,x.LX)(t("phpCreateMapping.createMappingSuccessfully")),s.setIsLoadingPhpConfig(!0)})).catch((e=>{console.error(e),(0,x.s9)(e.response.data,t("phpCreateMapping.createMappingError"))})).finally((()=>{(0,Q.Z)()}))}return(e,a)=>{const t=(0,l.up)("q-card-section"),n=(0,l.up)("q-card"),s=(0,l.up)("q-expansion-item"),o=(0,l.up)("q-list"),i=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.j4)(n,{flat:""},{default:(0,l.w5)((()=>[(0,l._)("div",ae,(0,C.zw)(e.$t("phpCreateMapping.title")),1),(0,l._)("div",{style:{"font-size":"0.9708rem"},innerHTML:e.$t("phpCreateMapping.mappingExplanation")},null,8,te),(0,l._)("div",le,[(0,l.Wm)(o,{bordered:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("mappingsAdvancedOptions.advancedOptionsLabel")},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{class:"q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(t,null,{default:(0,l.w5)((()=>[(0,l.Wm)(R,{prefix:e.hostname,disable:!e.hostname,"onUpdate:subdirectory":a[0]||(a[0]=e=>r.value=e),"onUpdate:isValidSubdirectory":a[1]||(a[1]=e=>c.value=e)},null,8,["prefix","disable"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})]),(0,l.Wm)(i,{align:"right",class:"q-px-none q-mt-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.Z,{disable:!1===v.value,color:"primary",icon:"sym_s_add",label:e.$t("phpCreateMapping.createBtn"),onClick:a[2]||(a[2]=e=>m())},null,8,["disable","label"])])),_:1})])),_:1})}}});var se=t(13246),oe=t(50651);const ie=ne,ue=ie;b()(ne,"components",{QCard:F.Z,QList:se.Z,QExpansionItem:oe.Z,QCardSection:j.Z,QCardActions:E.Z});const pe={class:"q-my-md",style:{height:"64px"}},re=(0,l.aZ)({__name:"PhpExtensionsToggle",props:{phpModule:{}},setup(e){const a=e,t=u(),s=(0,o.QT)().t,i=(0,n.iH)({name:"",status:!1}),p=(0,n.iH)(!1),r=(0,n.iH)(!1),d=(0,l.Fl)({get:()=>t.getCountPhpConfigUpdates,set:e=>{t.setCountPhpConfigUpdates(e)}}),c=(0,l.Fl)((()=>t.getHostname));function v(){const e=new D,a=!i.value.status;p.value=!0,d.value++,e.updatePhpConfigs({hostname:c.value,modules:[{name:i.value.name,status:i.value.status}],version:t.getPhpVersion.value}).then((()=>{const e=!0===i.value.status?`${s("phpExtensionsToggle.enablePhpModuleSuccess",{moduleName:i.value.name})}`:`${s("phpExtensionsToggle.disablePhpModuleSuccess",{moduleName:i.value.name})}`;(0,x.LX)(e)})).catch((e=>{console.error(e),r.value=!0;const t=!0===i.value.status?`${s("phpExtensionsToggle.enablePhpModuleError",{moduleName:i.value.name})}`:`${s("phpExtensionsToggle.disablePhpModuleError",{moduleName:i.value.name})}`;(0,x.s9)(e.response.data,t),i.value.status=a})).finally((()=>{setTimeout((()=>{r.value=!1,p.value=!1,d.value--}),100)}))}return(0,l.YP)((()=>a.phpModule),(e=>{i.value=Object.assign({},e)}),{immediate:!0}),(0,l.YP)(i,(()=>{!0!==r.value&&v()}),{immediate:!1,deep:!0}),(e,a)=>{const t=(0,l.up)("q-toggle"),n=(0,l.up)("q-spinner-gears");return(0,l.wg)(),(0,l.iD)("div",pe,[(0,l.Wm)(t,{color:"primary",label:i.value.name,style:{"font-size":"1.4rem"},modelValue:i.value.status,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value.status=e),disable:p.value},null,8,["label","modelValue","disable"]),p.value?((0,l.wg)(),(0,l.j4)(n,{key:0,color:"primary",size:"2em",class:"q-ml-md"})):(0,l.kq)("",!0)])}}});var de=t(23175),ce=t(9120);const ve=re,me=ve;b()(re,"components",{QToggle:de.Z,QSpinnerGears:ce.Z});const he={class:"flex justify-between"},ge=(0,l.aZ)({__name:"PhpExtensionsTab",setup(e){const a=u(),t=(0,l.Fl)({get:()=>a.getPhpModules,set:e=>{a.setPhpModules(e)}});return(e,a)=>((0,l.wg)(),(0,l.iD)("div",he,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.value,((e,a)=>((0,l.wg)(),(0,l.j4)(me,{key:a,phpModule:e,style:{"min-width":"250px"}},null,8,["phpModule"])))),128))]))}}),be=ge,fe=be,Pe={class:"flex items-center q-my-md q-mx-sm",style:{height:"64px"}},we=(0,l.aZ)({__name:"PhpOptionsToggle",props:{phpSetting:{}},setup(e){const a=e,t=u(),s=(0,o.QT)().t,i=(0,n.iH)({name:"",value:""}),p=(0,n.iH)(!1),r=(0,n.iH)(!1),d=(0,l.Fl)({get:()=>t.getCountPhpConfigUpdates,set:e=>{t.setCountPhpConfigUpdates(e)}}),c=(0,l.Fl)((()=>t.getPhpVersion)),v=(0,l.Fl)({get:()=>t.getHostname,set:e=>t.setHostname(e)});function m(){const e=new D,a="On"===i.value.value?"Off":"On";p.value=!0,d.value++,e.updatePhpConfigs({hostname:v.value,version:c.value.value,settings:[i.value]}).then((()=>{const e="On"===i.value.value?`${s("phpOptionsToggle.enablePhpSettingSuccess",{settingName:i.value.name})}`:`${s("phpOptionsToggle.disablePhpSettingSuccess",{settingName:i.value.name})}`;(0,x.LX)(e)})).catch((e=>{console.error(e),r.value=!0;const t="On"===i.value.value?`${s("phpOptionsToggle.enablePhpSettingError",{settingName:i.value.name})}`:`${s("phpOptionsToggle.disablePhpSettingError",{settingName:i.value.name})}`;(0,x.s9)(e.response.data,t),i.value.value=a})).finally((()=>{setTimeout((()=>{r.value=!1,p.value=!1,d.value--}),100)}))}return(0,l.YP)((()=>a.phpSetting),(e=>{i.value=Object.assign({},e)}),{immediate:!0}),(0,l.YP)(i,(()=>{!0!==r.value&&m()}),{deep:!0}),(e,a)=>{const t=(0,l.up)("q-toggle"),n=(0,l.up)("q-spinner-gears");return(0,l.wg)(),(0,l.iD)("div",Pe,[(0,l.Wm)(t,{color:"primary",label:i.value.name,style:{"font-size":"1.4rem"},modelValue:i.value.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value.value=e),"true-value":"On","false-value":"Off",disable:p.value},null,8,["label","modelValue","disable"]),p.value?((0,l.wg)(),(0,l.j4)(n,{key:0,color:"primary",size:"2em",class:"q-ml-md"})):(0,l.kq)("",!0)])}}}),ye=we,_e=ye;b()(we,"components",{QToggle:de.Z,QSpinnerGears:ce.Z});const Ve=(0,l.aZ)({__name:"SelectWithFilter",props:{options:{},label:{default:""},icon:{default:""},emitValue:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},msgError:{default:""},isError:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isDisable:{type:Boolean,default:!1},shouldUseFilter:{type:Boolean,default:!0},selected:{default:""}},emits:["update:selected"],setup(e,{emit:a}){const t=e,s=(0,n.iH)(t.selected),o=(0,n.iH)(),i=(0,n.iH)(t.options);function u(e,a){if(""===e)return s.value="",void a((()=>{i.value=t.options}));a((()=>{const a=e.toLowerCase();i.value=t.options.filter((e=>e.toString().toLowerCase().indexOf(a)>-1))}))}return(0,l.bv)((()=>{o.value=t.selected})),(0,l.YP)((()=>t.selected),(e=>{s.value=e}),{immediate:!0}),(0,l.YP)(s,(e=>{e!==o.value&&(a("update:selected",e),"object"!==typeof e&&t.options.includes(e.toString())&&(o.value=e))})),(e,a)=>{const t=(0,l.up)("q-icon"),n=(0,l.up)("q-select");return(0,l.wg)(),(0,l.j4)(n,{options:i.value,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),label:e.label,debounce:"100","emit-value":e.emitValue,"map-options":"",borderless:"","stack-label":"",clearable:e.clearable,"error-message":e.msgError,error:e.isError,loading:e.isLoading,disable:e.isDisable,"use-input":e.shouldUseFilter,onFocusout:a[1]||(a[1]=e=>s.value=o.value),onFilter:u,filled:""},(0,l.Nv)({_:2},[e.icon?{name:"prepend",fn:(0,l.w5)((()=>[(0,l.Wm)(t,{name:e.icon},null,8,["name"])])),key:"0"}:void 0]),1032,["options","modelValue","label","emit-value","clearable","error-message","error","loading","disable","use-input"])}}});var Se=t(32259);const Ce=Ve,Ze=Ce;b()(Ve,"components",{QSelect:Se.Z,QIcon:k.Z});const xe={class:"flex items-center q-my-md q-mx-sm",style:{height:"64px"}},He=(0,l.aZ)({__name:"PhpOptionsSelect",props:{phpSetting:{}},setup(e){const a=e,t=u(),i=(0,o.QT)().t,p=(0,n.iH)({name:"",value:""}),r=(0,n.iH)(!1),d=(0,n.iH)(!1),c=(0,l.Fl)({get:()=>t.getCountPhpConfigUpdates,set:e=>{t.setCountPhpConfigUpdates(e)}}),v=(0,l.Fl)((()=>t.getPhpVersion)),m=(0,l.Fl)((()=>t.getHostname));function h(){const e=new D,t=a.phpSetting.value;r.value=!0,c.value++,e.updatePhpConfigs({hostname:m.value,settings:[{name:p.value.name,value:p.value.value}],version:v.value.value}).then((()=>{(0,x.LX)(`${i("phpOptionsSelect.enablePhpSettingSuccess",{settingName:p.value.name})}`)})).catch((e=>{console.error(e),d.value=!0,(0,x.s9)(e.response.data,`${i("phpOptionsSelect.enablePhpSettingError",{settingName:p.value.name})}`),p.value.value=t})).finally((()=>{setTimeout((()=>{d.value=!1,r.value=!1,c.value--}),100)}))}return(0,l.YP)((()=>a.phpSetting),(e=>{p.value=Object.assign({},e)}),{immediate:!0}),(0,l.YP)(p,(()=>{!0!==d.value&&p.value.value&&h()}),{immediate:!1,deep:!0}),(e,a)=>{const t=(0,l.up)("q-spinner-gears");return(0,l.wg)(),(0,l.iD)("div",xe,[p.value.options.length<20?((0,l.wg)(),(0,l.j4)(y.Z,{key:0,options:p.value.options,selected:p.value.value,"onUpdate:selected":a[0]||(a[0]=e=>p.value.value=e),label:p.value.name,isDisable:r.value,class:"php-options-select"},null,8,["options","selected","label","isDisable"])):((0,l.wg)(),(0,l.j4)(Ze,{key:1,options:p.value.options,selected:p.value.value,"onUpdate:selected":a[1]||(a[1]=e=>p.value.value=e),label:p.value.name,isDisable:r.value,class:"php-options-select"},null,8,["options","selected","label","isDisable"])),(0,l.wy)((0,l.Wm)(t,{color:"primary",size:"2em",class:"q-ml-md"},null,512),[[s.F8,r.value]])])}}});var qe=t(18149);const De=He,Qe=De;b()(He,"components",{QSpinnerGears:ce.Z,QField:qe.Z});const We={class:"flex justify-between"},Te={class:"flex justify-between"},Ue=(0,l.aZ)({__name:"PhpOptionsTab",setup(e){const a=u(),t=(0,l.Fl)((()=>a.getPhpSettings)),n=(0,l.Fl)((()=>t.value.filter((e=>e.options.includes("On"))))),s=(0,l.Fl)((()=>t.value.filter((e=>!e.options.includes("On")))));return(e,a)=>{const t=(0,l.up)("q-card-section"),o=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(o,{flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(t,null,{default:(0,l.w5)((()=>[(0,l._)("div",We,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.value,((e,a)=>((0,l.wg)(),(0,l.j4)(_e,{key:a,phpSetting:e,style:{"min-width":"380px"}},null,8,["phpSetting"])))),128))])])),_:1}),(0,l.Wm)(t,null,{default:(0,l.w5)((()=>[(0,l._)("div",Te,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.value,((e,a)=>((0,l.wg)(),(0,l.j4)(Qe,{key:a,phpSetting:e,style:{"min-width":"380px"}},null,8,["phpSetting"])))),128))])])),_:1})])),_:1})}}}),Me=Ue,Fe=Me;b()(Ue,"components",{QCard:F.Z,QCardSection:j.Z});const je={class:"row"},$e={class:"col-12"},ke=(0,l.aZ)({__name:"PhpConfig",setup(e){const a=(0,n.iH)(10),t=(0,n.iH)("tab-modules");return(e,n)=>{const s=(0,l.up)("q-tab"),o=(0,l.up)("q-tabs"),i=(0,l.up)("q-tab-panel"),u=(0,l.up)("q-tab-panels"),p=(0,l.up)("q-splitter");return(0,l.wg)(),(0,l.iD)("div",je,[(0,l._)("div",$e,[(0,l.Wm)(p,{modelValue:a.value,"onUpdate:modelValue":n[2]||(n[2]=e=>a.value=e),style:{height:"100vh"}},{before:(0,l.w5)((()=>[(0,l.Wm)(o,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),vertical:"","active-color":"primary","indicator-color":"primary",align:"justify",class:"text-grey","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"tab-modules",label:e.$t("phpIndex.tabExtensions"),class:"php-tabs",icon:"fa-brands fa-php"},null,8,["label"]),(0,l.Wm)(s,{name:"tab-settings",label:e.$t("phpIndex.tabOptions"),class:"php-tabs",icon:"sym_s_settings"},null,8,["label"])])),_:1},8,["modelValue"])])),after:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=e=>t.value=e),animated:"","keep-alive":"",vertical:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"tab-modules"},{default:(0,l.w5)((()=>[(0,l.Wm)(fe)])),_:1}),(0,l.Wm)(i,{name:"tab-settings"},{default:(0,l.w5)((()=>[(0,l.Wm)(Fe)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])])}}});var Ee=t(7498),Oe=t(47817),Ye=t(70900),Le=t(89800),Ie=t(84106);const Ne=ke,Be=Ne;b()(ke,"components",{QSplitter:Ee.Z,QTabs:Oe.Z,QTab:Ye.Z,QTabPanels:Le.Z,QTabPanel:Ie.Z});var ze=t(9281);const Ke={key:1},Xe={key:1},Ae={class:"flex q-pb-md q-gutter-sm"},Ge={class:"col"},Je={class:"col"},Re=(0,l.aZ)({__name:"PhpIndex",setup(e){const a=(0,o.QT)().t,t=u(),i=(0,p.i)(),r=(0,n.iH)(0),d=(0,n.iH)([]),c=(0,n.iH)(""),v=(0,n.iH)(!0),m=(0,n.iH)(!1),h=(0,n.iH)(!1),g=(0,n.iH)(!1),b=(0,n.iH)(!1),f=(0,n.iH)([]),P=(0,l.Fl)((()=>_.value||g.value||b.value)),y=(0,l.Fl)({get:()=>i.getShowCreateMappingDialog,set:e=>i.setShowCreateMappingDialog(e)}),_=(0,l.Fl)({get:()=>t.getIsLoadingPhpConfig,set:e=>t.setIsLoadingPhpConfig(e)}),V=(0,l.Fl)({get:()=>t.getCountPhpConfigUpdates,set:e=>t.setCountPhpConfigUpdates(e)}),C=(0,l.Fl)({get:()=>t.getHostname,set:e=>t.setHostname(e)}),Z=(0,l.Fl)({get:()=>t.getPhpVersion,set:e=>t.setPhpVersion(e)}),H=(0,l.Fl)({get:()=>t.getPhpSettings,set:e=>t.setPhpSettings(e)}),q=(0,l.Fl)({get:()=>t.getPhpModules,set:e=>t.setPhpModules(e)});function Q(){g.value=!0,v.value=!1;const e=new ze.Z;e.getServicesStatus().then((e=>{0!==e.data.body.length&&(e.data.body.forEach((e=>{"php-webserver"===e.name&&(v.value=!0)})),!1!==v.value&&W())})).catch((e=>{console.error(e),(0,x.s9)(e.response.data,`${a("phpIndex.checkPhpServiceError")}`)})).finally((()=>{g.value=!1}))}function W(){b.value=!0,f.value=[],d.value=[];const e=new ee.Z;e.getMappings().then((e=>{0!==e.data.body.length&&(f.value=e.data.body,d.value=f.value.map((e=>e.hostname)),c.value=d.value[0],setTimeout((()=>{_.value=!0}),200))})).catch((e=>{console.error(e),(0,x.s9)(e.response.data,`${a("phpIndex.getMappingsError")}`)})).finally((()=>{b.value=!1}))}function T(){m.value=!1,f.value.forEach((e=>{e.hostname===c.value&&e.mappings.forEach((e=>{"php-webserver"===e.targetServiceName&&(m.value=!0,_.value=!0)}))}))}function U(){if(!c.value)throw Error("InvalidHostname");const e=new D;e.getPhpConfigs(c.value).then((e=>{C.value=e.data.body.hostname,Z.value=e.data.body.version,q.value=e.data.body.modules,H.value=e.data.body.settings,m.value=!0})).catch((e=>{m.value=!1,console.error(e),(0,x.s9)(e.response.data,`${a("phpIndex.getPhpConfigurationsError")}`)})).finally((()=>{setTimeout((()=>{_.value=!1}),1e3)}))}return(0,l.YP)(y,(()=>{r.value++})),(0,l.YP)(c,(()=>{T()})),(0,l.YP)(_,(e=>{!0===e&&U()})),(0,l.YP)(h,(e=>{!0===e&&(setTimeout((()=>{_.value=!0}),1e3),h.value=!1)})),(0,l.bv)((()=>{Q()})),(e,a)=>P.value?((0,l.wg)(),(0,l.j4)(w,{key:0})):((0,l.wg)(),(0,l.iD)("div",Ke,[!1===v.value?((0,l.wg)(),(0,l.j4)(B.Z,{key:0,serviceName:"php-webserver","onUpdate:isInstalledService":a[0]||(a[0]=e=>h.value=e)})):((0,l.wg)(),(0,l.iD)("div",Xe,[(0,l._)("div",Ae,[(0,l._)("div",Ge,[(0,l.Wm)(S,{vhostsOptions:d.value,vhostSelected:c.value,"onUpdate:vhostSelected":a[1]||(a[1]=e=>c.value=e),isDisabled:V.value>0},null,8,["vhostsOptions","vhostSelected","isDisabled"])]),(0,l._)("div",Je,[(0,l.wy)((0,l.Wm)(N,{phpVersion:Z.value,"onUpdate:phpVersion":a[2]||(a[2]=e=>Z.value=e),isDisabled:V.value>0},null,8,["phpVersion","isDisabled"]),[[s.F8,!0===m.value]])])]),!1===m.value?((0,l.wg)(),(0,l.j4)(ue,{key:0,hostname:c.value},null,8,["hostname"])):((0,l.wg)(),(0,l.j4)(Be,{key:1}))]))]))}}),ea=Re,aa=ea;b()(Re,"components",{QTab:Ye.Z,QTabPanel:Ie.Z});const ta=(0,l._)("div",{class:"text-bold title-h4"},"Node JS",-1),la=(0,l.aZ)({__name:"RuntimeIndex",setup(e){const a=(0,n.iH)("php");return(e,t)=>{const n=(0,l.up)("q-tab"),s=(0,l.up)("q-tabs"),o=(0,l.up)("q-separator"),i=(0,l.up)("q-tab-panel"),u=(0,l.up)("q-tab-panels"),p=(0,l.up)("q-card-section"),r=(0,l.up)("q-card"),d=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(d,{padding:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),class:"text-primary","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{name:"php",class:"runtime-tabs",icon:"fa-brands fa-php",label:"Php"}),(0,l.Wm)(n,{name:"node",class:"runtime-tabs hidden",icon:"fa-brands fa-node-js",label:"Node JS",disable:""})])),_:1},8,["modelValue"]),(0,l.Wm)(o),(0,l.Wm)(u,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),animated:"",swipeable:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"php"},{default:(0,l.w5)((()=>[(0,l.Wm)(aa)])),_:1}),(0,l.Wm)(i,{name:"node"},{default:(0,l.w5)((()=>[ta])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}}});var na=t(69885),sa=t(50926);const oa=la,ia=oa;b()(la,"components",{QPage:na.Z,QCard:F.Z,QCardSection:j.Z,QTabs:Oe.Z,QTab:Ye.Z,QSeparator:sa.Z,QTabPanels:Le.Z,QTabPanel:Ie.Z})}}]);