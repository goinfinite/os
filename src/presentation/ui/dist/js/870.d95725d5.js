"use strict";(self["webpackChunksos_dash"]=self["webpackChunksos_dash"]||[]).push([[870],{23346:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Zl});var l=a(59835),s=a(86970),i=a(60499),n=a(97510),o=a(84019),r=a(62601);const u={key:0,class:"flex justify-between items-center"},c={class:"flex justify-center items-center"},v=["onClick"],m=["src"],d={class:"text-capitalize",style:{"font-size":"1.2rem"}},p={key:1,class:"flex text-h6 justify-center items-center",style:{height:"115px"}},g=(0,l.aZ)({__name:"MarketplaceInstallAppSlide",props:{catalogList:{},marketplaceType:{}},emits:["update:selectedApp"],setup(e,{emit:t}){const a=e,n=(0,i.iH)(0),o=(0,i.iH)(null),r=(0,i.iH)(null),g=(0,l.Fl)((()=>a.catalogList.filter((e=>e.type===a.marketplaceType)))),b=(0,l.Fl)((()=>{const e=Math.min(n.value,g.value.length-4);return g.value.slice(e,e+4)})),w=e=>{r.value=e,o.value=b.value[e]};return(0,l.YP)(g,(e=>{e.length>0||(o.value=null)})),(0,l.YP)(o,(()=>{t("update:selectedApp",o.value)})),(e,t)=>{const a=(0,l.up)("q-btn");return g.value.length>0?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(a,{style:(0,s.j5)(g.value.length>4&&n.value>0?"visibility: visible":"visibility: hidden"),round:"",flat:"",icon:"sym_s_chevron_left",color:"primary",size:"lg",onClick:t[0]||(t[0]=e=>n.value=Math.max(0,n.value-1))},null,8,["style"]),(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,s.C_)(["bg-app-slide",{active:r.value===t}]),style:{padding:"8px 4px"},onClick:e=>w(t)},[(0,l._)("img",{src:e.avatarUrl,style:{width:"64px",height:"64px"}},null,8,m),(0,l._)("div",d,(0,s.zw)(e.name),1)],10,v)))),128))]),(0,l.Wm)(a,{style:(0,s.j5)(g.value.length>4&&n.value<g.value.length-4?"visibility: visible":"visibility: hidden"),round:"",icon:"sym_s_chevron_right",color:"primary",flat:"",size:"lg",onClick:t[1]||(t[1]=e=>n.value=Math.min(g.value.length-1,n.value+1))},null,8,["style"])])):((0,l.wg)(),(0,l.iD)("div",p,(0,s.zw)(e.$t("marketplaceInstallAppSlide.notFoundApps",{type:e.marketplaceType})),1))}}});var b=a(68879),w=a(69984),y=a.n(w);const _=g,f=_;y()(g,"components",{QBtn:b.Z});var h=a(88850),S=a(21647),k=a(84278),x=a(9704),q=a(88900),U=a(25121),Z=a(45273);const T={class:"flex justify-start q-gutter-sm q-mb-md"},W={class:"q-my-md"},I={key:0,class:"marketplace-data-fields-box"},C={class:"flex justify-between items-center q-mb-md"},D={class:"title-h6"},F={class:"flex justify-between items-center q-mt-lg"},H=(0,l.aZ)({__name:"MarketplaceInstallAppForm",props:{catalogList:{}},setup(e){const t=(0,r.R)(),a=(0,U.QT)().t,n=(0,i.iH)(""),o=(0,i.iH)(""),u=(0,i.iH)(null),c=(0,i.iH)("app"),v=(0,i.iH)(0),m=(0,i.iH)(0),d=(0,i.iH)([]),p=(0,l.Fl)({get:()=>t.getShowInstallAppDialog,set:e=>t.setShowInstallAppDialog(e)}),g=(0,l.Fl)({get:()=>t.getKeyMarketplaceTable,set:e=>t.setKeyMarketplaceTable(e)});function b(){p.value=!1}function w(){if(!u.value)return;(0,Z.Q)();const e={id:u.value.id,hostname:o.value};n.value&&(e.installDirectory=n.value),d.value.length>0&&(e.dataFields=d.value);const t=new x.Z;t.installApp(e).then((()=>{var e,t;(0,q.LX)(a("marketplaceInstallAppForm.installAppSuccess",{type:null===(e=u.value)||void 0===e?void 0:e.type,appName:null===(t=u.value)||void 0===t?void 0:t.name})),setTimeout((()=>{b(),g.value++}),1e3)})).catch((e=>{var t,l;console.error(e),(0,q.s9)(e.response.data,a("marketplaceInstallAppForm.installAppWithError",{type:null===(t=u.value)||void 0===t?void 0:t.type,appName:null===(l=u.value)||void 0===l?void 0:l.name}))})).finally((()=>{(0,Z.Z)()}))}return(0,l.YP)(c,(()=>{m.value++})),(0,l.YP)(u,(()=>{d.value=[],v.value++})),(e,t)=>{const a=(0,l.up)("q-radio"),i=(0,l.up)("q-tooltip"),r=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(S.Z,{class:"q-mb-md","onUpdate:selectedHostname":t[0]||(t[0]=e=>o.value=e),"onUpdate:installDirectory":t[1]||(t[1]=e=>n.value=e)}),(0,l._)("div",T,[(0,l.Wm)(a,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),val:"app",label:e.$t("marketplaceInstallAppForm.marketplaceType.apps")},null,8,["modelValue","label"]),(0,l.Wm)(a,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),val:"framework",label:e.$t("marketplaceInstallAppForm.marketplaceType.frameworks")},null,8,["modelValue","label"]),(0,l.Wm)(a,{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=e=>c.value=e),val:"stack",label:e.$t("marketplaceInstallAppForm.marketplaceType.stacks")},null,8,["modelValue","label"])]),(0,l._)("div",W,[((0,l.wg)(),(0,l.j4)(f,{catalogList:e.catalogList,marketplaceType:c.value,"onUpdate:selectedApp":t[5]||(t[5]=e=>u.value=e),key:m.value},null,8,["catalogList","marketplaceType"]))]),null!==u.value&&u.value.dataFields.length>0?((0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("div",C,[(0,l._)("div",D,(0,s.zw)(e.$t("marketplaceInstallAppForm.installParams")),1),(0,l.Wm)(r,{name:"sym_s_help",class:"text-white",size:"sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{anchor:"bottom middle",class:"bg-primary",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("marketplaceInstallAppForm.descriptionInstallParams")),1)])),_:1})])),_:1})]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.value.dataFields,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"q-mb-md",key:t},[((0,l.wg)(),(0,l.j4)(h.Z,{style:{width:"100%"},isRequired:e.isRequired,defaultValue:e.defaultValue,label:e.label,options:e.options,type:e.type,name:e.name,key:v.value,"onUpdate:dataFields":e=>d.value[t]=e},null,8,["isRequired","defaultValue","label","options","type","name","onUpdate:dataFields"]))])))),128))])):(0,l.kq)("",!0),(0,l._)("div",F,[(0,l.Wm)(k.Z,{color:"grey-8",label:e.$t("marketplaceInstallAppForm.cancelBtn"),onClick:t[6]||(t[6]=e=>b())},null,8,["label"]),(0,l.Wm)(k.Z,{color:"primary",label:e.$t("marketplaceInstallAppForm.confirmBtn"),disable:null===u.value,onClick:t[7]||(t[7]=e=>w())},null,8,["label","disable"])])],64)}}});var Q=a(11480),$=a(22857),P=a(46858);const V=H,z=V;y()(H,"components",{QRadio:Q.Z,QIcon:$.Z,QTooltip:P.Z});const L={class:"flex justify-between items-center"},A={class:"title-dialog"},j=(0,l.aZ)({__name:"MarketplaceInstallAppDialog",setup(e){const t=(0,r.R)(),a=new x.Z,n=(0,U.QT)().t,o=(0,i.iH)(!1),u=(0,i.iH)([]);(0,l.bv)((()=>{m()}));const c=(0,l.Fl)({get:()=>t.getShowInstallAppDialog,set:e=>t.setShowInstallAppDialog(e)});function v(){c.value=!1}function m(){o.value=!0,a.getCatalog().then((e=>{u.value=e.data.body})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,n("marketplaceInstallAppDialog.getCatalogWithError"))})).finally((()=>{o.value=!1}))}return(e,t)=>{const a=(0,l.up)("q-skeleton"),i=(0,l.up)("q-card"),n=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(m,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),persistent:""},{default:(0,l.w5)((()=>[!0===o.value?((0,l.wg)(),(0,l.j4)(i,{key:0,flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{height:"400px",width:"100%"})])),_:1})):((0,l.wg)(),(0,l.j4)(i,{key:1,flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",L,[(0,l._)("div",A,(0,s.zw)(e.$t("marketplaceInstallAppDialog.title")),1),(0,l.Wm)(n,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>v())})]),(0,l.Wm)(r,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{catalogList:u.value},null,8,["catalogList"])])),_:1})])),_:1}))])),_:1},8,["modelValue"])}}});var B=a(32074),Y=a(44458),E=a(57133),N=a(63190);const R=j,M=R;y()(j,"components",{QDialog:B.Z,QCard:Y.Z,QSkeleton:E.ZP,QBtn:b.Z,QCardSection:N.Z});const K={class:"title-h4"},X=(0,l.aZ)({__name:"MarketplaceIndex",setup(e){const t=(0,U.QT)().t,a=new x.Z,u=(0,r.R)(),c=(0,i.iH)([]),v=(0,i.iH)(!1),m=(0,i.iH)(0),d=(0,l.Fl)((()=>u.getShowInstallAppDialog));function p(){v.value=!0,a.getInstalledApps().then((e=>{var t;c.value=null!==(t=e.data.body)&&void 0!==t?t:[]})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,t("marketplaceIndex.getInstalledAppsWithError"))})).finally((()=>{v.value=!1}))}return(0,l.bv)((()=>{p()})),(0,l.YP)(d,(e=>{!1!==e&&m.value++})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o.Z),((0,l.wg)(),(0,l.j4)(M,{key:m.value})),(0,l._)("div",K,(0,s.zw)(e.$t("marketplaceIndex.title")),1),(0,l.Wm)(n.Z,{installedAppsList:c.value},null,8,["installedAppsList"])],64))}}),O=X,G=O,J={class:"text-left home-system-info-table-td"},ee={class:"text-right"},te={class:"hidden"},ae={class:"text-left home-system-info-table-td"},le={class:"text-right"},se={class:"text-left home-system-info-table-td"},ie={class:"text-right"},ne={class:"text-left home-system-info-table-td"},oe={class:"text-right home-system-info-table-td"},re={class:"system-info-text-chip"},ue={class:"text-italic q-ml-xs system-info-text-chip"},ce={class:"system-info-text-chip"},ve=(0,l._)("small",{class:"text-italic q-ml-xs system-info-text-chip"}," GB RAM",-1),me={class:"system-info-text-chip"},de=(0,l._)("small",{class:"text-italic q-ml-xs system-info-text-chip"}," GB Storage",-1),pe={class:"text-left home-system-info-table-td"},ge={class:"text-right"},be=(0,l.aZ)({__name:"SystemInfoTable",props:{overview:{}},setup(e){const t=e,a=(0,i.iH)({currentUsage:{cpuUsagePercent:0,memUsagePercent:0,storageUsage:0},hostname:"",publicIp:"",runtimeContext:"container",specs:{cpuCores:0,cpuFrequency:0,cpuModel:"",memoryTotal:0,storageTotal:0},uptimeSecs:0});function n(e){return(e/1024/1024/1024).toFixed(1)}function o(e){return(e/1e3).toFixed(1)}function r(e){const t=Math.floor(e/3600),a=Math.floor(e%3600/60),l=e%60;return`${t}h ${a}m ${l}s`}return(0,l.bv)((()=>{a.value=t.overview})),(0,l.YP)((()=>t.overview),(e=>{a.value=e})),(e,t)=>{const i=(0,l.up)("q-avatar"),u=(0,l.up)("q-chip"),c=(0,l.up)("q-markup-table");return(0,l.wg)(),(0,l.j4)(c,{flat:"",bordered:"",style:{"min-height":"300px"}},{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",J,(0,s.zw)(e.$t("systemInfoTable.colHostname")),1),(0,l._)("td",ee,(0,s.zw)(a.value.hostname),1)]),(0,l._)("tr",te,[(0,l._)("td",ae,(0,s.zw)(e.$t("systemInfoTable.colRuntimeContext")),1),(0,l._)("td",le,(0,s.zw)(a.value.runtimeContext),1)]),(0,l._)("tr",null,[(0,l._)("td",se,(0,s.zw)(e.$t("systemInfoTable.colUptime")),1),(0,l._)("td",ie,(0,s.zw)(r(a.value.uptimeSecs)),1)]),(0,l._)("tr",null,[(0,l._)("td",ne,(0,s.zw)(e.$t("systemInfoTable.colHardware")),1),(0,l._)("td",oe,[(0,l._)("div",null,[(0,l.Wm)(u,{square:"",class:"text-primary",outline:"",style:{"min-width":"150px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"sym_s_memory",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("strong",re,(0,s.zw)(a.value.specs.cpuCores),1),(0,l._)("small",ue,"CPU "+(0,s.zw)(o(a.value.specs.cpuFrequency))+" GHz",1)])),_:1})]),(0,l._)("div",null,[(0,l.Wm)(u,{square:"",class:"text-primary",outline:"",style:{"min-width":"150px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"sym_s_memory_alt",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("strong",ce,(0,s.zw)(n(a.value.specs.memoryTotal)),1),ve])),_:1})]),(0,l._)("div",null,[(0,l.Wm)(u,{square:"",class:"text-primary",outline:"",style:{"min-width":"150px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"sym_s_sd_card",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("strong",me,(0,s.zw)(n(a.value.specs.storageTotal)),1),de])),_:1})])])]),(0,l._)("tr",null,[(0,l._)("td",pe,(0,s.zw)(e.$t("systemInfoTable.colPublicIp")),1),(0,l._)("td",ge,(0,s.zw)(a.value.publicIp),1)])])])),_:1})}}});var we=a(66933),ye=a(57691),_e=a(61357);const fe=be,he=fe;y()(be,"components",{QMarkupTable:we.Z,QChip:ye.Z,QAvatar:_e.Z});var Se=a(19302),ke=a(27092),xe=a.n(ke);const qe=(0,l.aZ)({__name:"AreaChart",props:{series:{},height:{default:200}},setup(e){const t=(0,Se.Z)(),a=(0,i.iH)(0),s=(0,i.iH)({theme:{mode:"dark",palette:"palette6"},chart:{height:200,type:"area",background:"transparent",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:[0,1,2,3,4,5,6,7,8,9]},yaxis:{tickAmount:4,min:0,max:100,labels:{formatter:e=>e+"%"}},tooltip:{x:{format:"dd/MM/yy HH:mm"}},legend:{position:"top",horizontalAlign:"left"}}),n=(0,l.Fl)((()=>t.dark.isActive));return(0,l.YP)(n,(()=>{s.value.theme.mode=n.value?"dark":"light",a.value++}),{immediate:!0}),(e,t)=>((0,l.wg)(),(0,l.j4)((0,i.SU)(xe()),{type:"area",options:s.value,series:e.series,height:e.height,key:a.value},null,8,["options","series","height"]))}}),Ue=qe,Ze=Ue,Te={class:"text-center"},We={style:{"line-height":"1.2944rem"}},Ie=(0,l._)("br",null,null,-1),Ce=(0,l.aZ)({__name:"SystemInfoDiskUsage",props:{storageUsage:{},storageTotal:{}},setup(e){const t=e;function a(){return Math.trunc(t.storageUsage)}return(e,t)=>{const i=(0,l.up)("q-circular-progress");return(0,l.wg)(),(0,l.iD)("div",Te,[(0,l.Wm)(i,{"show-value":"","font-size":"16px",value:a(),size:"150px",thickness:.3,color:"primary","track-color":"grey-6",class:"q-my-md"},{default:(0,l.w5)((()=>[(0,l._)("div",We,[(0,l.Uk)((0,s.zw)(a())+"% ",1),Ie,(0,l.Uk)(" "+(0,s.zw)(e.$t("systemInfoDiskUsage.diskUsage")),1)])])),_:1},8,["value"])])}}});var De=a(83302);const Fe=Ce,He=Fe;y()(Ce,"components",{QCircularProgress:De.Z});const Qe={class:"title-h6 q-py-sm"},$e={class:"row"},Pe={class:"col-9"},Ve={class:"col"},ze=(0,l.aZ)({__name:"SystemInfoResourcesChart",props:{overview:{}},setup(e){const t=e,a=(0,U.QT)().t,n=(0,i.iH)([{name:a("systemInfoResourcesChart.cpu"),data:Array()},{name:a("systemInfoResourcesChart.ram"),data:Array()}]);return(0,l.wF)((()=>{n.value[0].data.push(Math.trunc(100*t.overview.currentUsage.cpuUsagePercent)),n.value[1].data.push(Math.trunc(100*t.overview.currentUsage.memUsagePercent))})),(0,l.YP)((()=>t.overview),(e=>{10===n.value[0].data.length&&(n.value[0].data.shift(),n.value[1].data.shift()),n.value[0].data.push(parseInt(e.currentUsage.cpuUsagePercent.toFixed(3))),n.value[1].data.push(parseInt(e.currentUsage.memUsagePercent.toFixed(3)))}),{deep:!0}),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Qe,(0,s.zw)(e.$t("systemInfoResourcesChart.titleResourcesChart")),1),(0,l._)("div",$e,[(0,l._)("div",Pe,[(0,l.Wm)(Ze,{series:n.value,height:235},null,8,["series"])]),(0,l._)("div",Ve,[(0,l.Wm)(He,{storageTotal:e.overview.specs.storageTotal,storageUsage:e.overview.currentUsage.storageUsage},null,8,["storageTotal","storageUsage"])])])],64))}}),Le=ze,Ae=Le;var je=a(87178),Be=a(16397),Ye=a(85118);const Ee={class:"flex justify-between items-center q-mb-sm"},Ne={class:"title-h4"},Re={class:"flex justify-between"},Me={class:"overview-system-info-table"},Ke={class:"overview-resources-chart"},Xe=(0,l.aZ)({__name:"SystemInfoIndex",setup(e){const t=(0,Be.n)(),a=(0,Ye.V)(),n=new je.Z,o=(0,i.iH)(),r=(0,l.Fl)({get:()=>t.getSystemInfo,set:e=>t.setSystemInfo(e)}),u=(0,l.Fl)((()=>a.getSelectedRefreshRate));function c(){o.value&&clearInterval(o.value),o.value=setInterval((()=>{n.getSystemInfo().then((e=>{r.value=e.data.body})).catch((e=>{console.error(e)}))}),1e3*u.value)}return(0,l.bv)((()=>{n.getSystemInfo().then((e=>{r.value=e.data.body})).catch((e=>{console.error(e)})).finally((()=>{c()}))})),(0,l.Ah)((()=>{clearInterval(o.value)})),(0,l.YP)(u,(()=>{c()})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Ee,[(0,l._)("div",Ne,(0,s.zw)(e.$t("systemInfoIndex.titleSystemInfo")),1)]),(0,l._)("div",Re,[(0,l._)("div",Me,[(0,l.Wm)(he,{overview:r.value},null,8,["overview"])]),(0,l._)("div",Ke,[(0,l.Wm)(Ae,{overview:r.value},null,8,["overview"])])])],64))}}),Oe=Xe,Ge=Oe;var Je=a(9281),et=a(3746);const tt=(0,et.Q_)("servicesStatus",{state:()=>({keyServicesStatusTable:0,isLoadingServicesStatus:!1,showDialogUninstallService:!1,showDialogInstallService:!1,showDialogUpdateService:!1,selectedService:{},servicesStatusList:[]}),getters:{getKeyServicesStatusTable(e){return e.keyServicesStatusTable},getIsLoadingServicesStatus(e){return e.isLoadingServicesStatus},getShowDialogUninstallService(e){return e.showDialogUninstallService},getShowDialogInstallService(e){return e.showDialogInstallService},getShowDialogUpdateService(e){return e.showDialogUpdateService},getSelectedService(e){return e.selectedService},getServicesStatusList(e){return e.servicesStatusList}},actions:{setKeyServicesStatusTable(e){this.keyServicesStatusTable=e},setIsLoadingServicesStatus(e){this.isLoadingServicesStatus=e},setShowDialogUninstallService(e){this.showDialogUninstallService=e},setShowDialogInstallService(e){this.showDialogInstallService=e},setShowDialogUpdateService(e){this.showDialogUpdateService=e},setSelectedService(e){this.selectedService=e},setServicesStatusList(e){this.servicesStatusList=e}}}),at={key:0,class:"flex justify-end items-center"},lt={class:"td-action-bg-15",style:{width:"57px"}},st={class:"td-action-bg-20"},it={class:"td-action-bg-25"},nt={key:1,class:"flex justify-end items-center"},ot={class:"td-action-bg-25",style:{width:"56px"}},rt=(0,l.aZ)({__name:"ServicesStatusTableActions",props:{service:{}},setup(e){const t=e,a=new Je.Z,n=(0,U.QT)().t,o=tt(),r=(0,i.iH)(t.service.status),u=(0,i.iH)(!1),c=(0,i.iH)(!1),v=(0,l.Fl)({get:()=>o.getKeyServicesStatusTable,set:e=>{o.keyServicesStatusTable=e}}),m=(0,l.Fl)({get:()=>o.getIsLoadingServicesStatus,set:e=>{o.setIsLoadingServicesStatus(e)}});function d(e){"installed"!==e&&"uninstalled"!==e&&(m.value=!0,(0,Z.Q)(n("running"!==e?"servicesStatusTableActions.stopLoading":"servicesStatusTableActions.startLoading")),a.updateServiceStatus({name:t.service.name,status:e}).then((()=>{"running"!==e?(0,q.LX)(n("servicesStatusTableActions.stopSuccess")):(0,q.LX)(n("servicesStatusTableActions.startSuccess"))})).catch((t=>{console.error(t),"running"!==e?(0,q.s9)(t.response.data,n("servicesStatusTableActions.stopError")):(0,q.s9)(t.response.data,n("servicesStatusTableActions.startError"))})).finally((()=>{m.value=!1,setTimeout((()=>{v.value++,(0,Z.Z)()}),1e3)})))}function p(e){if("installed"===e||"uninstalled"===e)return;m.value=!0,c.value=!0,(0,Z.Q)(n("servicesStatusTableActions.restartLoading"));const l="running"===e?"stopped":"running";a.updateServiceStatus({name:t.service.name,status:l}).then((()=>{const t=n("running"===e?"servicesStatusTableActions.stopSuccess":"servicesStatusTableActions.startSuccess");(0,q.LX)(t),"stopped"===l&&setTimeout((()=>{p("stopped")}),1e3)})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,n("servicesStatusTableActions.restartError"))})).finally((()=>{m.value=!1,c.value=!1,(0,Z.Z)()}))}function g(){o.setSelectedService(t.service),o.setShowDialogUpdateService(!0)}function b(){o.setSelectedService(t.service),o.setShowDialogUninstallService(!0)}return(0,l.YP)(r,(e=>{"installed"!==e&&"uninstalled"!==e&&(c.value||d(e))})),(e,t)=>{const a=(0,l.up)("q-toggle"),o=(0,l.up)("q-tooltip"),v=(0,l.up)("q-btn"),m=(0,l.up)("q-icon");return"system"!==e.service.type?((0,l.wg)(),(0,l.iD)("div",at,[(0,l._)("div",lt,[(0,l.Wm)(a,{disable:"running"!==r.value&&"stopped"!==r.value,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"true-value":"running","false-value":"stopped",size:"36px"},null,8,["disable","modelValue"])]),(0,l._)("div",st,[(0,l.Wm)(v,{disable:"running"!==r.value,onClick:t[1]||(t[1]=e=>p(r.value)),loading:c.value,size:"md",flat:"",icon:"sym_s_refresh"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.restartBtn")),1)])),_:1})])),_:1},8,["disable","loading"])]),(0,l._)("div",it,[(0,l.Wm)(v,{disable:"solo"===e.service.nature,onClick:t[2]||(t[2]=e=>g()),size:"md",flat:"",icon:"sym_s_settings"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.updateBtn")),1)])),_:1})])),_:1},8,["disable"])]),(0,l._)("div",null,[(0,l.Wm)(v,{disable:"uninstalled"===r.value,onClick:t[3]||(t[3]=e=>b()),loading:u.value,color:"negative",size:"md",icon:"sym_s_delete_forever"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-negative text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.uninstallBtn")),1)])),_:1})])),_:1},8,["disable","loading"])])])):((0,l.wg)(),(0,l.iD)("div",nt,[(0,l._)("div",ot,[(0,l.Wm)(v,{disable:"running"!==r.value,onClick:t[4]||(t[4]=e=>p(r.value)),loading:c.value,size:"md",flat:"",icon:"sym_s_refresh"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.restartBtn")),1)])),_:1})])),_:1},8,["disable","loading"])]),(0,l.Wm)(m,{name:"sym_s_info",size:"16px",class:"text-primary q-ml-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.systemServiceWarning")),1)])),_:1})])),_:1})]))}}});var ut=a(23175);const ct=rt,vt=ct;y()(rt,"components",{QToggle:ut.Z,QBtn:b.Z,QTooltip:P.Z,QIcon:$.Z});var mt=a(73451);const dt={class:"flex justify-start items-center"},pt=(0,l._)("span",{style:{"padding-bottom":"3px"}},"v",-1),gt={class:"services-status-text-chip"},bt={class:"services-status-text-chip"},wt=(0,l.aZ)({__name:"ServicesStatusTableTdMain",props:{serviceName:{},version:{},startupFile:{}},setup(e){return(e,t)=>{const a=(0,l.up)("q-avatar"),n=(0,l.up)("q-chip");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,(0,s.zw)((0,i.SU)(mt.R)(e.serviceName)),1),(0,l._)("div",dt,[e.version?((0,l.wg)(),(0,l.j4)(n,{key:0,square:"",outline:"",color:"primary",class:"q-ml-none q-mr-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{color:"primary","text-color":"white","font-size":"1.1326rem"},{default:(0,l.w5)((()=>[pt])),_:1}),(0,l._)("span",gt,(0,s.zw)(e.version),1)])),_:1})):(0,l.kq)("",!0),e.startupFile?((0,l.wg)(),(0,l.j4)(n,{key:1,square:"",class:"text-primary q-ml-none",outline:""},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{icon:"sym_s_description",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("span",bt,(0,s.zw)(e.startupFile),1)])),_:1})):(0,l.kq)("",!0)])],64)}}}),yt=wt,_t=yt;y()(wt,"components",{QChip:ye.Z,QAvatar:_e.Z});const ft=(0,l.aZ)({__name:"ServicesStatusTable",props:{servicesStatusList:{}},setup(e){const t=e,a=(0,U.QT)().t,n=tt(),o=(0,i.iH)(""),r=(0,i.iH)([]),u=(0,i.iH)([{name:"uptimeSecs",label:a("servicesStatusTable.colUptime"),align:"center",format:e=>p(e.uptimeSecs),field:"metrics"},{name:"cpuUsagePercent",label:a("servicesStatusTable.colCpuUsage"),align:"center",format:e=>g(e.cpuUsagePercent),field:"metrics"},{name:"memUsagePercent",label:a("servicesStatusTable.colRamUsage"),align:"center",format:e=>g(e.memUsagePercent),field:"metrics"}]),c=(0,i.iH)({sortBy:"serviceName",isDescending:!1}),v=(0,i.iH)({rowsPerPage:1e4}),m=(0,l.Fl)({get:()=>n.getShowDialogInstallService,set:e=>n.setShowDialogInstallService(e)});function d(e,a=!1){let l=t.servicesStatusList;"serviceName"===e&&l.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),"uptimeSecs"===e&&l.sort(((e,t)=>e.metrics.uptimeSecs<t.metrics.uptimeSecs?-1:e.metrics.uptimeSecs>t.metrics.uptimeSecs?1:0)),"cpuUsagePercent"===e&&l.sort(((e,t)=>e.metrics.cpuUsagePercent<t.metrics.cpuUsagePercent?-1:e.metrics.cpuUsagePercent>t.metrics.cpuUsagePercent?1:0)),"memUsagePercent"===e&&l.sort(((e,t)=>e.metrics.memUsagePercent<t.metrics.memUsagePercent?-1:e.metrics.memUsagePercent>t.metrics.memUsagePercent?1:0)),!0===c.value.isDescending&&l.reverse(),!1===a&&c.value.sortBy===e&&(c.value.isDescending=!c.value.isDescending),r.value=l,c.value.sortBy=e}function p(e){if(!e)return"";const t=Math.floor(e/3600),a=Math.floor(e%3600/60),l=e%60;return`${t}h ${a}m ${l.toFixed(0)}s`}function g(e){return e?`${e.toFixed(2)}%`:"0%"}function b(){m.value=!0}return(0,l.YP)((()=>t.servicesStatusList),(()=>{d(c.value.sortBy,!0)})),(e,t)=>{const a=(0,l.up)("q-icon"),i=(0,l.up)("q-input"),n=(0,l.up)("q-space"),m=(0,l.up)("q-th"),p=(0,l.up)("q-tr"),g=(0,l.up)("q-td"),w=(0,l.up)("q-table");return(0,l.wg)(),(0,l.j4)(w,{rows:r.value,columns:u.value,filter:o.value,pagination:v.value,"onUpdate:pagination":t[3]||(t[3]=e=>v.value=e),"visible-columns":["uptimeSecs","cpuUsagePercent","memUsagePercent"],"no-data-label":e.$t("servicesStatusTable.notFound"),"row-key":"key",color:"primary",flat:"",bordered:"","virtual-scroll":"","rows-per-page-options":[0],"hide-pagination":"",style:{height:"auto","max-height":"800px"}},{top:(0,l.w5)((()=>[(0,l.Wm)(i,{borderless:"",debounce:"300",color:"primary",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),label:e.$t("servicesStatusTable.inputSearch")},{prepend:(0,l.w5)((()=>[(0,l.Wm)(a,{name:"sym_s_search"})])),_:1},8,["modelValue","label"]),(0,l.Wm)(n),(0,l.Wm)(k.Z,{label:e.$t("servicesStatusTable.createServiceBtn"),icon:"sym_s_install_desktop",onClick:t[1]||(t[1]=e=>b())},null,8,["label"])])),header:(0,l.w5)((i=>[(0,l.Wm)(p,{props:i},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-primary text-white services-table-th",style:{"text-align":"left !important"},onClick:t[2]||(t[2]=e=>d("serviceName"))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("servicesStatusTable.colServiceName"))+" ",1),(0,l.Wm)(a,{name:"serviceName"===c.value.sortBy?c.value.isDescending?"sym_s_arrow_downward":"sym_s_arrow_upward":""},null,8,["name"])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.cols,(e=>((0,l.wg)(),(0,l.j4)(m,{key:e.name,props:i,class:"services-table-th",onClick:t=>d(e.name)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.label)+" ",1),(0,l.Wm)(a,{name:c.value.sortBy===e.name?c.value.isDescending?"sym_s_arrow_downward":"sym_s_arrow_upward":""},null,8,["name"])])),_:2},1032,["props","onClick"])))),128)),(0,l.Wm)(m)])),_:2},1032,["props"])])),body:(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"td-main-table"},{default:(0,l.w5)((()=>[(0,l.Wm)(_t,{serviceName:e.row.name,version:e.row.version,startupFile:e.row.startupFile},null,8,["serviceName","version","startupFile"])])),_:2},1024),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,(t=>((0,l.wg)(),(0,l.j4)(g,{key:t.name,props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.value),1)])),_:2},1032,["props"])))),128)),(0,l.Wm)(g,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Wm)(vt,{service:e.row},null,8,["service"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter","pagination","no-data-label"])}}});var ht=a(84277),St=a(13119),kt=a(90136),xt=a(31233),qt=a(21682),Ut=a(67220);const Zt=ft,Tt=Zt;y()(ft,"components",{QTable:ht.Z,QInput:St.Z,QIcon:$.Z,QSpace:kt.Z,QTr:xt.Z,QTh:qt.Z,QTd:Ut.Z});var Wt=a(15521);const It=(0,l.aZ)({__name:"ServicesNameInput",props:{serviceName:{}},emits:["update:serviceName","update:isValidServiceName"],setup(e,{emit:t}){const a=e,s=/^[a-zA-Z0-9-_]{1,255}$/,n=(0,i.iH)(a.serviceName),o=(0,l.Fl)((()=>s.test(n.value)));return(0,l.YP)(n,(e=>{t("update:serviceName",e),t("update:isValidServiceName",o.value)}),{immediate:!0}),(0,l.YP)((()=>a.serviceName),(e=>{n.value=e}),{immediate:!0}),(e,t)=>((0,l.wg)(),(0,l.j4)(Wt.Z,{value:n.value,"onUpdate:value":t[0]||(t[0]=e=>n.value=e),label:e.$t("servicesNameInput.serviceNameLabel"),icon:"sym_s_app_registration","max-length":"255",rules:[()=>0!==n.value.length||e.$t("servicesNameInput.requiredError"),()=>n.value.length<=255||e.$t("servicesNameInput.maxLengthError"),()=>/^[a-zA-Z0-9-_]+$/.test(n.value)||e.$t("servicesNameInput.nameRegexError")]},null,8,["value","label","rules"]))}}),Ct=It,Dt=Ct,Ft=(0,l.aZ)({__name:"ServicesVersionInput",props:{serviceVersion:{}},emits:["update:serviceVersion","update:isValidServiceVersion"],setup(e,{emit:t}){const a=e,s=/^[\w\-\.]{1,255}$/,n=(0,i.iH)(a.serviceVersion),o=(0,l.Fl)((()=>s.test(n.value)));return(0,l.YP)(n,(e=>{t("update:serviceVersion",e),t("update:isValidServiceVersion",o.value)}),{immediate:!0}),(0,l.YP)((()=>a.serviceVersion),(e=>{n.value=e}),{immediate:!0}),(e,t)=>((0,l.wg)(),(0,l.j4)(Wt.Z,{value:n.value,"onUpdate:value":t[0]||(t[0]=e=>n.value=e),label:e.$t("servicesVersionInput.versionLabel"),icon:"sym_s_code","max-length":"255",rules:[()=>0!==n.value.length||e.$t("servicesVersionInput.requiredError"),()=>n.value.length<=255||e.$t("servicesVersionInput.maxLengthError"),()=>/^[\w\-\.]+$/.test(n.value)||e.$t("servicesVersionInput.versionRegexError")]},null,8,["value","label","rules"]))}}),Ht=Ft,Qt=Ht;var $t=a(94629);const Pt={class:"port-bindings-bg q-pa-sm"},Vt={class:"title-h6 q-mb-sm"},zt={class:"flex justify-between items-center q-mb-md"},Lt={class:"col q-pr-sm"},At={class:"col q-px-sm"},jt={class:"flex justify-between items-center"},Bt={class:"col q-pr-sm"},Yt={class:"col q-px-sm"},Et=(0,l.aZ)({__name:"ServicesPortBindings",props:{portBindings:{}},emits:["update:portBindings"],setup(e,{emit:t}){const a=e,n=/^(\d{1,5})$/,o=(0,i.iH)(a.portBindings),r=["http","https","ws","wss","grpc","grpcs","tcp","udp"],u=(0,i.iH)(0),c=(0,i.iH)({port:"",protocol:""}),v=(0,l.Fl)((()=>!(parseInt(c.value.port)>65535)&&(n.test(c.value.port)&&c.value.protocol.length>0)));function m(){o.value.push({port:parseInt(c.value.port),protocol:c.value.protocol}),u.value++,c.value={port:"",protocol:""}}function d(e){o.value.splice(e,1)}return(0,l.YP)(o,(e=>{t("update:portBindings",e)})),(0,l.YP)((()=>a.portBindings),(e=>{o.value=e})),(e,t)=>{const a=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",Pt,[(0,l._)("div",Vt,(0,s.zw)(e.$t("servicesPortBindings.titlePortBindings")),1),(0,l._)("div",zt,[(0,l._)("div",Lt,[((0,l.wg)(),(0,l.j4)(Wt.Z,{value:c.value.port,"onUpdate:value":t[0]||(t[0]=e=>c.value.port=e),label:e.$t("servicesPortBindings.hostPortInputLabel"),maxLength:"5",rules:[()=>n.test(c.value.port.toString())||e.$t("servicesPortBindings.portError"),()=>parseInt(c.value.port)<=65535||e.$t("servicesPortBindings.portError")],key:u.value},null,8,["value","label","rules"]))]),(0,l._)("div",At,[(0,l.Wm)($t.Z,{selected:c.value.protocol,"onUpdate:selected":t[1]||(t[1]=e=>c.value.protocol=e),options:r,dense:!1,label:e.$t("servicesPortBindings.protocolInputLabel")},null,8,["selected","label"])]),(0,l.Wm)(a,{onClick:t[2]||(t[2]=e=>m()),color:"primary",size:"md",dense:"",icon:"sym_s_add",disable:!1===v.value},null,8,["disable"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.value,((t,s)=>((0,l.wg)(),(0,l.iD)("div",{key:s},[(0,l._)("div",jt,[(0,l._)("div",Bt,[(0,l.Wm)(Wt.Z,{value:t.port,"onUpdate:value":e=>t.port=e,label:e.$t("servicesPortBindings.hostPortInputLabel"),disable:""},null,8,["value","onUpdate:value","label"])]),(0,l._)("div",Yt,[(0,l.Wm)($t.Z,{selected:t.protocol,"onUpdate:selected":e=>t.protocol=e,options:r,dense:!1,label:e.$t("servicesPortBindings.protocolInputLabel"),disable:""},null,8,["selected","onUpdate:selected","label"])]),(0,l.Wm)(a,{onClick:e=>d(s),color:"negative",size:"md",dense:"",icon:"sym_s_delete"},null,8,["onClick"])])])))),128))])}}}),Nt=Et,Rt=Nt;y()(Et,"components",{QBtn:b.Z});const Mt={class:"flex justify-between items-center"},Kt=["innerHTML"],Xt=(0,l.aZ)({__name:"ServicesCommandInput",props:{serviceCommand:{}},emits:["update:serviceCommand","update:isValidServiceCommand"],setup(e,{emit:t}){const a=e,s=/^[\w\s-.\/\\]{1,255}$/,n=(0,i.iH)(a.serviceCommand),o=(0,l.Fl)((()=>s.test(n.value)));return(0,l.YP)(n,(e=>{t("update:serviceCommand",e)}),{immediate:!0}),(0,l.YP)(o,(e=>{t("update:isValidServiceCommand",e)})),(0,l.YP)((()=>a.serviceCommand),(e=>{n.value=e}),{immediate:!0}),(e,t)=>{const a=(0,l.up)("q-tooltip"),s=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.iD)("div",Mt,[(0,l.Wm)(Wt.Z,{value:n.value,"onUpdate:value":t[0]||(t[0]=e=>n.value=e),placeholder:e.$t("servicesCommandInput.serviceCommandPlaceholder"),icon:"sym_s_terminal","max-length":"255",rules:[()=>0!==n.value.length||e.$t("servicesCommandInput.requiredError"),()=>n.value.length<=255||e.$t("servicesCommandInput.maxLengthError"),()=>/^[\w\s-.\/\\]+$/.test(n.value)||e.$t("servicesCommandInput.commandRegexError")],style:{width:"97%"}},null,8,["value","placeholder","rules"]),(0,l.Wm)(s,{name:"sym_s_help",size:"20px",class:"cursor-pointer",style:{position:"absolute",right:"30px",top:"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{anchor:"top middle",self:"bottom middle",class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l._)("span",{innerHTML:e.$t("servicesCommandInput.helpCommand")},null,8,Kt)])),_:1})])),_:1})])}}}),Ot=Xt,Gt=Ot;y()(Xt,"components",{QIcon:$.Z,QTooltip:P.Z});var Jt=function(e,t,a,l){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function n(e){try{r(l.next(e))}catch(t){i(t)}}function o(e){try{r(l["throw"](e))}catch(t){i(t)}}function r(e){e.done?a(e.value):s(e.value).then(n,o)}r((l=l.apply(e,t||[])).next())}))};const ea={class:"flex justify-between items-center"},ta={class:"col q-mr-sm"},aa={class:"col q-ml-sm"},la=["textContent"],sa={class:"service-tab-custom-box"},ia={class:"row justify-between items-center"},na={class:"col-2"},oa={class:"col"},ra={class:"row justify-between items-center"},ua={class:"col-2"},ca={class:"col"},va=(0,l.aZ)({__name:"ServicesTabCustom",setup(e){const t=(0,U.QT)().t,a=tt(),n=(0,i.iH)([]),o=(0,i.iH)(null),r=(0,i.iH)(0),u=(0,i.iH)(""),c=(0,i.iH)(""),v=(0,i.iH)(""),m=(0,i.iH)("other"),d=(0,i.iH)(!1),p=(0,i.iH)(!1),g=(0,i.iH)(!1),b=(0,i.iH)("command"),w=(0,i.iH)([{label:t("servicesTabCustom.application"),value:"application"},{label:t("servicesTabCustom.runtime"),value:"runtime"},{label:t("servicesTabCustom.database"),value:"database"},{label:t("servicesTabCustom.webserver"),value:"webserver"},{label:t("servicesTabCustom.mom"),value:"mom"},{label:t("servicesTabCustom.monitoring"),value:"monitoring"},{label:t("servicesTabCustom.logging"),value:"logging"},{label:t("servicesTabCustom.security"),value:"security"},{label:t("servicesTabCustom.backup"),value:"backup"},{label:t("servicesTabCustom.system"),value:"system"},{label:t("servicesTabCustom.other"),value:"other"}]);(0,l.YP)(b,(()=>{r.value++,o.value=null,u.value=""}));const y=(0,l.Fl)((()=>"command"===b.value?"display: block;":"visibility:hidden;")),_=(0,l.Fl)((()=>"file_uploader"===b.value?"display: block;":"visibility:hidden;")),f=(0,l.Fl)((()=>d.value&&p.value&&(g.value||null!==o.value))),h=(0,l.Fl)({get:()=>a.getShowDialogInstallService,set:e=>a.setShowDialogInstallService(e)}),S=(0,l.Fl)({get:()=>a.getKeyServicesStatusTable,set:e=>{a.keyServicesStatusTable=e}});function x(){h.value=!1}function T(){return Jt(this,void 0,void 0,(function*(){return(0,Z.Q)(),new Promise(((e,a)=>{const l=new Je.Z,s=new FormData;s.append("files",o.value),s.append("destinationPath","/app/"),l.uploadFile(s).then((()=>{(0,Z.Z)(),e()})).catch((e=>{(0,q.s9)(e.message,t("servicesTabCustom.uploadError")),console.error(e),(0,Z.Z)(),a(e)}))}))}))}function W(){var e;return Jt(this,void 0,void 0,(function*(){if("file_uploader"===b.value)try{yield T()}catch(s){throw(0,q.c0)({msg:t("servicesTabCustom.uploadError"),type:"negative",position:"bottom"}),console.error(s),s}let a=u.value;!1===g.value&&(a=`/app/${null===(e=o.value)||void 0===e?void 0:e.name}`);const l=new Je.Z;(0,Z.Q)(),l.installCustomService({name:v.value,version:c.value,command:a,portBindings:n.value,type:m.value}).then((()=>{(0,q.LX)(t("servicesTabCustom.installSuccess")),S.value++,x()})).catch((e=>{(0,q.s9)(e.response.data,t("servicesTabCustom.installError")),console.error(e)})).finally((()=>{(0,Z.Z)()}))}))}return(e,t)=>{const a=(0,l.up)("q-card-section"),i=(0,l.up)("q-radio"),h=(0,l.up)("q-icon"),S=(0,l.up)("q-file"),q=(0,l.up)("q-card"),U=(0,l.up)("q-expansion-item"),Z=(0,l.up)("q-list"),T=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.j4)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l._)("div",ea,[(0,l._)("div",ta,[(0,l.Wm)(Dt,{serviceName:v.value,"onUpdate:serviceName":t[0]||(t[0]=e=>v.value=e),"onUpdate:isValidServiceName":t[1]||(t[1]=e=>d.value=e)},null,8,["serviceName"])]),(0,l._)("div",aa,[(0,l.Wm)(Qt,{serviceVersion:c.value,"onUpdate:serviceVersion":t[2]||(t[2]=e=>c.value=e),"onUpdate:isValidServiceVersion":t[3]||(t[3]=e=>p.value=e)},null,8,["serviceVersion"])])])])),_:1}),(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l._)("h6",{style:{size:"1em"},class:"q-ma-sm",textContent:(0,s.zw)(e.$t("servicesTabCustom.labelExecut"))},null,8,la),(0,l._)("div",sa,[(0,l._)("div",ia,[(0,l._)("div",na,[(0,l.Wm)(i,{style:{"margin-top":"-18px"},dense:"",modelValue:b.value,"onUpdate:modelValue":t[4]||(t[4]=e=>b.value=e),label:e.$t("servicesTabCustom.labelRadioCommand"),val:"command"},null,8,["modelValue","label"])]),(0,l._)("div",oa,[((0,l.wg)(),(0,l.j4)(Gt,{style:(0,s.j5)(y.value),serviceCommand:u.value,"onUpdate:serviceCommand":t[5]||(t[5]=e=>u.value=e),targetType:b.value,key:r.value,"onUpdate:isValidServiceCommand":t[6]||(t[6]=e=>g.value=e)},null,8,["style","serviceCommand","targetType"]))])]),(0,l._)("div",ra,[(0,l._)("div",ua,[(0,l.Wm)(i,{style:{"margin-top":"-18px"},dense:"",modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value=e),label:e.$t("servicesTabCustom.labelRadioFile"),val:"file_uploader"},null,8,["modelValue","label"])]),(0,l._)("div",ca,[((0,l.wg)(),(0,l.j4)(S,{modelValue:o.value,"onUpdate:modelValue":t[8]||(t[8]=e=>o.value=e),color:"primary",counter:"",style:(0,s.j5)(_.value),filled:"","use-chips":"",key:r.value,label:e.$t("servicesTabCustom.labelUploadFile"),cursor:"pointer",type:"file"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(h,{name:"sym_s_upload",size:"20px"})])),_:1},8,["modelValue","style","label"]))])])]),(0,l.Wm)($t.Z,{selected:m.value,"onUpdate:selected":t[9]||(t[9]=e=>m.value=e),label:e.$t("servicesTabCustom.typeSelect"),options:w.value},null,8,["selected","label","options"])])),_:1}),(0,l.Wm)(a,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("servicesTabCustom.advancedSettingsLabel"),class:"services-tab-installable-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{class:"q-ma-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Rt,{portBindings:n.value,"onUpdate:portBindings":t[10]||(t[10]=e=>n.value=e)},null,8,["portBindings"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.Wm)(T,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesTabCustom.cancelButton"),color:"grey-7",onClick:t[11]||(t[11]=e=>x())},null,8,["label"]),(0,l.Wm)(k.Z,{disable:!1===f.value,label:e.$t("servicesTabCustom.installButton"),icon:"sym_s_install_desktop",onClick:t[12]||(t[12]=e=>W())},null,8,["disable","label"])])),_:1})])),_:1})}}});var ma=a(33837),da=a(13246),pa=a(50651),ga=a(11821);const ba=va,wa=ba;y()(va,"components",{QCard:Y.Z,QCardSection:N.Z,QRadio:Q.Z,QFile:ma.Z,QIcon:$.Z,QList:da.Z,QExpansionItem:pa.Z,QCardActions:ga.Z});var ya=a(18892);const _a={class:"flex justify-between items-center"},fa={class:"title-dialog"},ha=(0,l.aZ)({__name:"StartupFileDialog",props:{showStartupFileDialog:{type:Boolean}},emits:["update:showStartupFileDialog","update:startupFilePath"],setup(e,{emit:t}){const a=e,n=(0,i.iH)(0),o=(0,i.iH)([]),r=(0,i.iH)([]),u=(0,i.iH)("/app"),c=(0,i.iH)(!1),v=()=>{c.value=!1};function m(){const e=new ya.Z;(0,Z.Q)(),e.getCurrentPath(u.value).then((e=>{if(r.value=e.data.body,"/app"===u.value)return d(e.data.body),void n.value++;p(o.value,u.value,e.data.body),n.value++})).catch((e=>{console.error(e)})).finally((()=>{setTimeout((()=>{(0,Z.Z)()}),500)}))}function d(e){o.value=[{label:"/app",path:"/app",icon:"sym_s_home",iconColor:"grey-7",children:e.map((e=>Object.assign({label:e.name,path:e.path,icon:"directory"===e.mimeType?"sym_s_folder":"sym_s_description",iconColor:"directory"===e.mimeType?"yellow-9":"grey-7"},".trash"===e.name&&{icon:"sym_s_delete",iconColor:"grey-8"})))}]}function p(e,a,l){const s=e=>{for(const t of e){if(t.path===a)return t;if(t.children){const e=s(t.children);if(e)return e}}},i=s(e);if(!1!==i){if("sym_s_description"===i.icon)return t("update:startupFilePath",i.path),void v();i.icon="sym_s_folder_open",i.children=l.map((e=>Object.assign({label:e.name,path:e.path,icon:"directory"===e.mimeType?"sym_s_folder":"sym_s_description",iconColor:"directory"===e.mimeType?"yellow-9":"grey-7"},".trash"===e.name&&{icon:"sym_s_delete",iconColor:"grey-8"})))}}return(0,l.YP)((()=>a.showStartupFileDialog),(e=>{c.value=e,!1!==e&&m()}),{immediate:!0}),(0,l.YP)(c,(e=>{t("update:showStartupFileDialog",e)})),(0,l.YP)(u,(()=>{m()})),(e,t)=>{const a=(0,l.up)("q-btn"),i=(0,l.up)("q-tree"),r=(0,l.up)("q-card-section"),m=(0,l.up)("q-card-actions"),d=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(p,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{flat:"",style:{width:"700px","max-width":"80vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",_a,[(0,l._)("div",fa,(0,s.zw)(e.$t("startupFileDialog.title")),1),(0,l.Wm)(a,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>v())})]),(0,l.Wm)(r,{class:"q-pa-none q-mt-md",style:{"overflow-y":"auto","max-height":"70vh"}},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(i,{key:n.value,nodes:o.value,selected:u.value,"onUpdate:selected":t[1]||(t[1]=e=>u.value=e),"node-key":"path","tick-strategy":"none","default-expand-all":"",style:{"font-size":"0.809rem"}},null,8,["nodes","selected"]))])),_:1}),(0,l.Wm)(m,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("startupFileDialog.cancelBtn"),color:"grey-7",onClick:t[2]||(t[2]=e=>v())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var Sa=a(84749);const ka=ha,xa=ka;y()(ha,"components",{QDialog:B.Z,QCard:Y.Z,QBtn:b.Z,QCardSection:N.Z,QTree:Sa.Z,QCardActions:ga.Z});const qa={class:"q-pa-md startup-file-box"},Ua={class:"title-h6 q-mb-md"},Za={style:{"font-size":"0.9708rem"}},Ta={class:"flex justify-between items-center q-mt-md"},Wa={style:{width:"72%"}},Ia=(0,l.aZ)({__name:"StartupFile",props:{selectedStartupFile:{}},emits:["update:selectedStartupFile","update:isValidStartupFile"],setup(e,{emit:t}){const a=e,n=(0,i.iH)(!1),o=(0,i.iH)(""),r=(0,i.iH)(0),u=(0,l.Fl)((()=>""!==o.value&&o.value.length<2046));return(0,l.YP)((()=>a.selectedStartupFile),(e=>{o.value=e}),{immediate:!0}),(0,l.YP)((()=>o.value),(e=>{t("update:selectedStartupFile",e)})),(0,l.YP)(n,(e=>{!1!==e&&r.value++})),(0,l.YP)(u,(e=>{t("update:isValidStartupFile",e)})),(e,t)=>{const a=(0,l.up)("q-input");return(0,l.wg)(),(0,l.iD)(l.HY,null,[((0,l.wg)(),(0,l.j4)(xa,{showStartupFileDialog:n.value,"onUpdate:showStartupFileDialog":t[0]||(t[0]=e=>n.value=e),"onUpdate:startupFilePath":t[1]||(t[1]=e=>o.value=e),key:r.value},null,8,["showStartupFileDialog"])),(0,l._)("div",qa,[(0,l._)("div",Ua,(0,s.zw)(e.$t("servicesTabInstallable.titleStartupFile")),1),(0,l._)("div",Za,(0,s.zw)(e.$t("servicesTabInstallable.helpText")),1),(0,l._)("div",Ta,[(0,l.Wm)(k.Z,{label:e.$t("servicesTabInstallable.selectStartupFile"),outline:!0,color:"primary",onClick:t[2]||(t[2]=e=>n.value=!0),style:{top:"2px"},icon:"sym_s_description"},null,8,["label"]),(0,l._)("div",Wa,[(0,l.Wm)(a,{filled:"",modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e),label:e.$t("servicesTabInstallable.startupFileLabel")},null,8,["modelValue","label"])])])])],64)}}}),Ca=Ia,Da=Ca;y()(Ia,"components",{QInput:St.Z});const Fa={class:"flex justify-between items-center q-my-md"},Ha={class:"col q-mr-sm"},Qa={class:"col q-ml-sm"},$a={key:0,class:"q-mb-lg"},Pa=(0,l.aZ)({__name:"ServicesTabInstallable",setup(e){const t=(0,U.QT)().t,a=tt(),s=new Je.Z,n=(0,i.iH)(!1),o=(0,i.iH)(0),r=(0,i.iH)(0),u=(0,i.iH)(""),c=(0,i.iH)(""),v=(0,i.iH)([]),m=(0,i.iH)(""),d=(0,i.iH)(!1),p=(0,i.iH)(!1),g=(0,i.iH)([]),b=(0,i.iH)([]),w=(0,i.iH)([]),y=(0,l.Fl)({get:()=>a.getShowDialogInstallService,set:e=>a.setShowDialogInstallService(e)}),_=(0,l.Fl)((()=>!1===p.value||!0===d.value)),f=(0,l.Fl)((()=>a.getServicesStatusList)),h=(0,l.Fl)({get:()=>a.getKeyServicesStatusTable,set:e=>{a.keyServicesStatusTable=e}});function S(e){p.value=!1,g.value.forEach((t=>{t.name===e&&"multi"===t.nature&&(p.value=!0)}))}function x(){n.value=!0,g.value=[],s.getServicesInstallable().then((e=>{g.value=e.data.body})).catch((e=>{console.error(e)})).finally((()=>{setTimeout((()=>{n.value=!1}),1e3)}))}function T(){b.value=[],g.value.forEach((e=>{let t=!1;const a={value:e.name,label:(0,mt.R)(e.name)};f.value.forEach((a=>{e.name===a.name&&"solo"===a.nature&&(t=!0)})),t||(b.value.push(a),r.value++)})),u.value=b.value[0].value}function W(){o.value++,w.value=[],g.value.forEach((e=>{e.name===u.value&&e.versions.forEach((e=>{w.value.push(e)}))})),c.value=w.value[0]}function I(){y.value=!1}function C(){(0,Z.Q)();const e=new Je.Z;let a={name:u.value,version:c.value,portBindings:v.value};p.value&&(a.startupFile=m.value),e.installService(a).then((()=>{(0,q.LX)(t("servicesTabInstallable.installSuccess")),h.value++,I()})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,t("servicesTabInstallable.installError"))})).finally((()=>{(0,Z.Z)()}))}return(0,l.bv)((()=>{x()})),(0,l.YP)(g,(()=>{0!==g.value.length&&T()})),(0,l.YP)(u,(e=>{W(),S(e)}),{immediate:!0}),(e,t)=>{const a=(0,l.up)("q-skeleton"),s=(0,l.up)("q-card-section"),i=(0,l.up)("q-card"),g=(0,l.up)("q-expansion-item"),y=(0,l.up)("q-list"),f=(0,l.up)("q-card-actions");return!0===n.value?((0,l.wg)(),(0,l.j4)(a,{key:0,animation:"blink",height:"400px"})):((0,l.wg)(),(0,l.j4)(i,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l._)("div",Fa,[(0,l._)("div",Ha,[((0,l.wg)(),(0,l.j4)($t.Z,{selected:u.value,"onUpdate:selected":t[0]||(t[0]=e=>u.value=e),label:e.$t("servicesTabInstallable.serviceLabel"),options:b.value,key:r.value},null,8,["selected","label","options"]))]),(0,l._)("div",Qa,[((0,l.wg)(),(0,l.j4)($t.Z,{selected:c.value,"onUpdate:selected":t[1]||(t[1]=e=>c.value=e),label:e.$t("servicesTabInstallable.versionLabel"),options:w.value,key:o.value},null,8,["selected","label","options"]))])]),!0===p.value?((0,l.wg)(),(0,l.iD)("div",$a,[(0,l.Wm)(Da,{selectedStartupFile:m.value,"onUpdate:selectedStartupFile":t[2]||(t[2]=e=>m.value=e),"onUpdate:isValidStartupFile":t[3]||(t[3]=e=>d.value=e)},null,8,["selectedStartupFile"])])):(0,l.kq)("",!0),(0,l.Wm)(y,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("servicesTabInstallable.advancedSettingsLabel"),class:"services-tab-installable-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-ma-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Rt,{portBindings:v.value,"onUpdate:portBindings":t[4]||(t[4]=e=>v.value=e)},null,8,["portBindings"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.Wm)(f,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesTabInstallable.cancelButton"),color:"grey-7",onClick:t[5]||(t[5]=e=>I())},null,8,["label"]),(0,l.Wm)(k.Z,{disable:!1===_.value,label:e.$t("servicesTabInstallable.installButton"),icon:"sym_s_install_desktop",onClick:t[6]||(t[6]=e=>C())},null,8,["disable","label"])])),_:1})])),_:1}))}}});var Va=a(490);const za=Pa,La=za;y()(Pa,"components",{QSkeleton:E.ZP,QCard:Y.Z,QCardSection:N.Z,QList:da.Z,QExpansionItem:pa.Z,QCardActions:ga.Z,QItem:Va.Z});const Aa=(0,l.aZ)({__name:"ServicesInstallDialogTabs",setup(e){const t=(0,i.iH)("installable");return(e,a)=>{const s=(0,l.up)("q-tab"),i=(0,l.up)("q-tabs"),n=(0,l.up)("q-separator"),o=(0,l.up)("q-tab-panel"),r=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),"active-color":"primary","indicator-color":"primary",align:"justify",class:"text-grey","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"installable",class:"overview-services-tabs",icon:"sym_s_install_desktop",label:e.$t("servicesInstallDialogTabs.installableForm")},null,8,["label"]),(0,l.Wm)(s,{name:"custom",class:"overview-services-tabs",icon:"sym_s_app_registration",label:e.$t("servicesInstallDialogTabs.customForm")},null,8,["label"])])),_:1},8,["modelValue"]),(0,l.Wm)(n),(0,l.Wm)(r,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"installable",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(La)])),_:1}),(0,l.Wm)(o,{name:"custom",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(wa)])),_:1})])),_:1},8,["modelValue"])],64)}}});var ja=a(47817),Ba=a(70900),Ya=a(50926),Ea=a(89800),Na=a(84106);const Ra=Aa,Ma=Ra;y()(Aa,"components",{QTabs:ja.Z,QTab:Ba.Z,QSeparator:Ya.Z,QTabPanels:Ea.Z,QTabPanel:Na.Z});const Ka={class:"flex justify-between items-center"},Xa={class:"title-dialog"},Oa=(0,l.aZ)({__name:"ServicesInstallDialog",setup(e){const t=tt(),a=(0,l.Fl)({get:()=>t.getShowDialogInstallService,set:e=>t.setShowDialogInstallService(e)});return(e,t)=>{const i=(0,l.up)("q-btn"),n=(0,l.up)("q-card-section"),o=(0,l.up)("q-card"),r=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(r,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",Ka,[(0,l._)("div",Xa,(0,s.zw)(e.$t("servicesInstallDialog.titleInstallService")),1),(0,l.Wm)(i,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>a.value=!1)})]),(0,l.Wm)(n,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ma)])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),Ga=Oa,Ja=Ga;y()(Oa,"components",{QDialog:B.Z,QCard:Y.Z,QBtn:b.Z,QCardSection:N.Z});var el=a(89906);const tl=(0,l.aZ)({__name:"ServicesUninstallDialog",setup(e){const t=(0,U.QT)().t,a=new Je.Z,s=tt(),i=(0,l.Fl)((()=>s.getSelectedService.name)),n=(0,l.Fl)({get:()=>s.getShowDialogUninstallService,set:e=>{s.setShowDialogUninstallService(e)}}),o=(0,l.Fl)({get:()=>s.getKeyServicesStatusTable,set:e=>{s.keyServicesStatusTable=e}}),r=(0,l.Fl)({get:()=>s.getIsLoadingServicesStatus,set:e=>{s.setIsLoadingServicesStatus(e)}});function u(){r.value=!0,(0,Z.Q)(t("servicesUninstallDialog.uninstallLoading")),a.updateServiceStatus({name:i.value,status:"uninstalled"}).then((()=>{(0,q.LX)(t("servicesUninstallDialog.uninstallSuccess")),n.value=!1,o.value++})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,t("servicesUninstallDialog.uninstallError"))})).finally((()=>{r.value=!1,(0,Z.Z)()}))}return(e,t)=>((0,l.wg)(),(0,l.j4)(el.Z,{showDeleteDialog:n.value,"onUpdate:showDeleteDialog":t[2]||(t[2]=e=>n.value=e),titleDialog:e.$t("servicesUninstallDialog.uninstallDialogTitle"),messageToDelete:e.$t("servicesUninstallDialog.uninstallDialogDescription",{serviceName:i.value}),warningToDelete:e.$t("servicesUninstallDialog.warningUninstallService")},{"card-actions":(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesUninstallDialog.uninstallDialogCancelBtn"),color:"grey-7",onClick:t[0]||(t[0]=e=>n.value=!1)},null,8,["label"]),(0,l.Wm)(k.Z,{color:"negative",label:e.$t("servicesUninstallDialog.uninstallDialogConfirmBtn"),onClick:t[1]||(t[1]=e=>u())},null,8,["label"])])),_:1},8,["showDeleteDialog","titleDialog","messageToDelete","warningToDelete"]))}}),al=tl,ll=al,sl={class:"flex justify-between items-center"},il={class:"title-dialog"},nl={class:"flex justify-between items-center"},ol={class:"col q-mr-sm"},rl={class:"col q-ml-sm"},ul=(0,l.aZ)({__name:"ServicesUpdateDialog",setup(e){const t=(0,U.QT)().t,a=tt(),n=(0,i.iH)([]),o=(0,i.iH)(""),r=(0,i.iH)(""),u=(0,i.iH)(""),c=(0,i.iH)(""),v=(0,i.iH)(!1),m=(0,i.iH)(!1),d=(0,i.iH)(!1),p=(0,l.Fl)((()=>"custom"!==b.value.nature&&"solo"!==b.value.nature?!0===v.value&&!0===d.value:v.value)),g=(0,l.Fl)({get:()=>a.getShowDialogUpdateService,set:e=>a.setShowDialogUpdateService(e)}),b=(0,l.Fl)((()=>a.getSelectedService)),w=(0,l.Fl)({get:()=>a.getKeyServicesStatusTable,set:e=>{a.keyServicesStatusTable=e}});function y(){g.value=!1}function _(){const e=new Je.Z;(0,Z.Q)(),e.updateServiceStatus({name:c.value,version:u.value,command:r.value,startupFile:o.value,portBindings:n.value}).then((()=>{(0,q.LX)(t("servicesUpdateDialog.updateSuccess")),w.value++,y()})).catch((e=>{(0,q.s9)(e.response.data,t("servicesUpdateDialog.updateError")),console.error(e)})).finally((()=>{(0,Z.Z)()}))}return(0,l.YP)(g,(e=>{!1!==e&&(n.value=b.value.portBindings?b.value.portBindings:[],o.value=b.value.startupFile?b.value.startupFile:"",r.value=b.value.command,u.value=b.value.version,c.value=b.value.name)})),(e,t)=>{const a=(0,l.up)("q-btn"),i=(0,l.up)("q-card-section"),w=(0,l.up)("q-card"),f=(0,l.up)("q-expansion-item"),h=(0,l.up)("q-list"),S=(0,l.up)("q-card-actions"),x=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(x,{modelValue:g.value,"onUpdate:modelValue":t[11]||(t[11]=e=>g.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",sl,[(0,l._)("div",il,(0,s.zw)(e.$t("servicesUpdateDialog.titleUpdateService")),1),(0,l.Wm)(a,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>g.value=!1)})]),(0,l.Wm)(i,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l._)("div",nl,[(0,l._)("div",ol,[(0,l.Wm)(Dt,{disable:!0,serviceName:c.value,"onUpdate:serviceName":t[1]||(t[1]=e=>c.value=e)},null,8,["serviceName"])]),(0,l._)("div",rl,[(0,l.Wm)(Qt,{serviceVersion:u.value,"onUpdate:serviceVersion":t[2]||(t[2]=e=>u.value=e),"onUpdate:isValidServiceVersion":t[3]||(t[3]=e=>v.value=e)},null,8,["serviceVersion"])])]),"custom"===b.value.nature?((0,l.wg)(),(0,l.j4)(Gt,{key:0,serviceCommand:r.value,"onUpdate:serviceCommand":t[4]||(t[4]=e=>r.value=e),"onUpdate:isValidServiceCommand":t[5]||(t[5]=e=>m.value=e),class:"q-mt-sm"},null,8,["serviceCommand"])):(0,l.kq)("",!0),"custom"!==b.value.nature&&"solo"!==b.value.nature?((0,l.wg)(),(0,l.j4)(Da,{key:1,selectedStartupFile:o.value,"onUpdate:selectedStartupFile":t[6]||(t[6]=e=>o.value=e),class:"q-mt-sm","onUpdate:isValidStartupFile":t[7]||(t[7]=e=>d.value=e)},null,8,["selectedStartupFile"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(i,{class:"q-pt-none q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("servicesUpdateDialog.advancedSettingsLabel"),class:"services-update-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"q-ma-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Rt,{portBindings:n.value,"onUpdate:portBindings":t[8]||(t[8]=e=>n.value=e)},null,8,["portBindings"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.Wm)(S,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesUpdateDialog.cancelButton"),color:"grey-7",onClick:t[9]||(t[9]=e=>y())},null,8,["label"]),(0,l.Wm)(k.Z,{disable:!1===p.value,label:e.$t("servicesUpdateDialog.updateButton"),icon:"sym_s_install_desktop",color:"primary",onClick:t[10]||(t[10]=e=>_())},null,8,["disable","label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),cl=ul,vl=cl;y()(ul,"components",{QDialog:B.Z,QCard:Y.Z,QBtn:b.Z,QCardSection:N.Z,QList:da.Z,QExpansionItem:pa.Z,QCardActions:ga.Z});const ml={class:"title-h4"},dl=(0,l.aZ)({__name:"ServicesStatusIndex",setup(e){const t=tt(),a=(0,Ye.V)(),n=new Je.Z,o=(0,i.iH)(),r=(0,i.iH)([]),u=(0,l.Fl)((()=>t.getKeyServicesStatusTable)),c=(0,l.Fl)((()=>a.getSelectedRefreshRate));function v(){o.value&&clearInterval(o.value),o.value=setInterval((()=>{n.getServicesStatus().then((e=>{0!==e.data.body.length&&(t.setServicesStatusList(e.data.body),r.value=m(e.data.body))})).catch((e=>{console.error(e)}))}),1e3*c.value)}function m(e){return e.forEach((e=>{e.metrics||(e.metrics={cpuUsagePercent:0,memUsagePercent:0,pids:[],uptimeSecs:0})})),e}return(0,l.bv)((()=>{n.getServicesStatus().then((e=>{0!==e.data.body.length&&(t.setServicesStatusList(e.data.body),r.value=m(e.data.body))})).catch((e=>{console.error(e)})).finally((()=>{v()}))})),(0,l.Ah)((()=>{clearInterval(o.value)})),(0,l.YP)(c,(()=>{v()})),(0,l.YP)(u,(()=>{v()})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(Ja),(0,l.Wm)(ll),(0,l.Wm)(vl),(0,l._)("div",ml,(0,s.zw)(e.$t("servicesStatusIndex.titleServicesStatus")),1),(0,l.Wm)(Tt,{servicesStatusList:r.value},null,8,["servicesStatusList"])],64))}}),pl=dl,gl=pl,bl={class:"title-h4"},wl={class:"flex justify-start"},yl=(0,l.aZ)({__name:"OverviewQuickServicesLinks",setup(e){const t=(0,U.QT)().t,a=[{name:t("quickLinks.linkApps"),icon:"apps",path:"/apps"},{name:t("quickLinks.linkDatabases"),icon:"database",path:"/databases"},{name:t("quickLinks.linkFiles"),icon:"folder",path:"/file-manager"},{name:t("quickLinks.linkBackups"),icon:"backup",path:"/backups"},{name:t("quickLinks.linkDomains"),icon:"language",path:"/domains"},{name:t("quickLinks.linkMetrics"),icon:"bar_chart",path:"/metrics"},{name:t("quickLinks.linkLogs"),icon:"receipt",path:"/logs"},{name:t("quickLinks.linkTerminal"),icon:"terminal",path:"/terminal"}];return(e,n)=>{const o=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",bl,(0,s.zw)((0,i.SU)(t)("quickLinks.titleQuickLinks")),1),(0,l._)("div",wl,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(a,(e=>(0,l.Wm)(o,{key:e.name,icon:"sym_s_"+e.icon,label:e.name,to:e.path,class:"q-my-md q-mx-xs",style:{width:"90px",height:"90px"},stack:"",outline:"","no-caps":""},null,8,["icon","label","to"]))),64))])],64)}}}),_l=yl,fl=_l;y()(yl,"components",{QBtn:b.Z});var hl={class:"row q-mt-md"},Sl={class:"col"},kl={class:"col q-ml-md hidden"};const xl={__name:"OverviewIndex",setup:function(e){return function(e,t){var a=(0,l.up)("q-card-section"),s=(0,l.up)("q-card"),i=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(i,{padding:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{flat:"",class:"q-mb-md"},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(G)]})),_:1})]})),_:1}),(0,l.Wm)(s,{flat:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(Ge)]})),_:1})]})),_:1}),(0,l._)("div",hl,[(0,l._)("div",Sl,[(0,l.Wm)(s,{flat:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(gl)]})),_:1})]})),_:1})]),(0,l._)("div",kl,[(0,l.Wm)(s,{flat:"",style:{height:"100%"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(fl)]})),_:1})]})),_:1})])])]})),_:1})}}};var ql=a(69885);const Ul=xl,Zl=Ul;y()(xl,"components",{QPage:ql.Z,QCard:Y.Z,QCardSection:N.Z})}}]);